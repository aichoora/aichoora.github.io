{"pages":[],"posts":[{"title":"AsciiDoc","text":"AsciiDoc Install&nbsp;&nbsp;&nbsp;gem package manager, asciidoctor ì„¤ì¹˜. ruby install stackoverflow rubyinstaller downloads asciidoctor install asciidoctor 1gem install asciidoctor AsciiDoc Convert&nbsp;&nbsp;&nbsp;ê¸°ë³¸ html5 ë¡œ ë³€í™˜ë¨ &nbsp;&nbsp;&nbsp;convert-documents 1asciidoctor aaa.adoc Spring-Restdocs&nbsp;&nbsp;&nbsp; maven test ì‹œì— target í•˜ìœ„ì— adoc íŒŒì¼ ìƒì„±ë˜ê³  package ìˆ˜í–‰ì‹œì— ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘” main í•˜ìœ„ adoc íŒŒì¼ë¡œ html doc íŒŒì¼ì´ ìƒì„±ëœë‹¤. main í•˜ìœ„ì˜ adoc íŒŒì¼ì— unit test ì— ìƒì„±ëœ adoc íŒŒì¼ì´ include ëœë‹¤. &nbsp;&nbsp;&nbsp;spring-restdocs-reference &nbsp;&nbsp;&nbsp;restdoc sample git &nbsp;&nbsp;&nbsp;restdoc sample &nbsp;&nbsp;&nbsp;wildfly doc &nbsp;&nbsp;&nbsp;beanvalidation doc AsciiDoc Syntax Quick Reference &nbsp;&nbsp;&nbsp;asciidoc-syntax-quick-reference","link":"/2020/04/26/asciidoc/"},{"title":"Beanvalidation","text":"Structure1234567891011121314151617181920212223242526@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })@Retention(RUNTIME)@Repeatable(List.class)@Documented@Constraint(validatedBy = { })public @interface NotNull { String message() default \"{javax.validation.constraints.NotNull.message}\"; Class&lt;?&gt;[] groups() default { }; Class&lt;? extends Payload&gt;[] payload() default { }; /** * Defines several {@link NotNull} annotations on the same element. * * @see javax.validation.constraints.NotNull */ @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE }) @Retention(RUNTIME) @Documented @interface List { NotNull[] value(); }} message ë©”ì„¸ì§€ë¥¼ ë„£ê±°ë‚˜, {ë²ˆë“¤í‚¤}ë¥¼ ì§€ì •. https://beanvalidation.org/latest-draft/spec/#validationapi-message 123 @NotNull(message=\"{com.example.constraints.actor_id.NotNull.message}\") @Size(max = 32, min = 1, message = \"actor_id max length is {max}\")private Long actor_id; ë²ˆë“¤ ìœ„ì¹˜ : classpath:ValidationMessages.propertiesë””í´íŠ¸ ë©”ì„¸ì§€ group payload list Message interpolation ë²ˆë“¤ ìœ„ì¹˜ ë³€ê²½í•˜ë ¤ë©´ message.properties 11022=last_name2 length must less than {max} characters. @Configuration 1234567891011121314@Beanpublic MessageSource messageSource() { ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource(); messageSource.setBasename(\"classpath:/messages/message\"); messageSource.setDefaultEncoding(\"UTF-8\"); messageSource.setCacheSeconds(600); // 10ë¶„ return messageSource;}// validation resource ë²ˆë“¤ì„ message.properties ë¥¼ ì‚¬ìš©@Beanpublic LocalValidatorFactoryBean validator() { LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean(); bean.setValidationMessageSource(messageSource()); return bean; validate 12@Size(max = 10, message = \"{1022}\")private String last_name2; test https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/chapter-message-interpolation.html#chapter-message-interpolation https://stackoverflow.com/questions/45692179/spring-boot-validation-message-is-not-being-resolved validation ê²°í•© composite annotation for @NotEmpty and @Size 123456789101112131415@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })@Retention(RUNTIME)//@Repeatable(List.class)@Documented@Constraint(validatedBy = { })@NotEmpty(message = \"1011\")@Size(max = 32, min = 1, message = \"1012\")public @interface ValidFirstname { String message() default \"\"; Class&lt;?&gt;[] groups() default { }; Class&lt;? extends Payload&gt;[] payload() default { };} bean 123 // composite validation@ValidFirstnameprivate String first_name; @Validated @Valid https://reflectoring.io/bean-validation-with-spring-boot/ @Validated package org.springframework.validation.annotation; class type ì— ì‚¬ìš©í•˜ì—¬ primitive type param validation 12345678910111213141516@RestController@Validatedclass ValidateParametersController { @GetMapping(\"/validatePathVariable/{id}\") ResponseEntity&lt;String&gt; validatePathVariable( @PathVariable(\"id\") @Min(5) int id) { return ResponseEntity.ok(\"valid\"); } @GetMapping(\"/validateRequestParameter\") ResponseEntity&lt;String&gt; validateRequestParameter( @RequestParam(\"param\") @Min(5) int param) { return ResponseEntity.ok(\"valid\"); }} method type ì— ì‚¬ìš©ì‹œì—ëŠ” validation group ìœ¼ë¡œ ì‚¬ìš©Using Validation Groups to Validate Objects Differently for Different Use Cases invalid ì‹œì— MethodArgumentNotValidException ì´ ì•„ë‹ˆë¼ ConstraintViolationException ë¦¬í„´. MethodValidationInterceptor ì—ì„œ ì²˜ë¦¬ (Controller ì™€ ê´€ë ¨ì—†ì´ method í˜¸ì¶œë˜ê¸°ì „ aop ë¡œ í˜¸ì¶œë¨.) In contrast to request body validation a failed validation will trigger a ConstraintViolationException instead of a MethodArgumentNotValidException. Spring does not register a default exception handler for this exception, so it will by default cause a response with HTTP status 500 (Internal Server Error). @Valid package javax.validation; class type ì— ì‚¬ìš© ë¶ˆê°€. ì£¼ë¡œ PARAMETER ìœ¼ë¡œ ì‚¬ìš© 12345@PostMapping(\"/add\")public Actor add(@RequestBody @Valid Actor actor) { actorService.add(actor); return actorService.get(actor.getActor_id());} invalid ì‹œì— MethodArgumentNotValidException ë¦¬í„´. RequestPartMethodArgumentResolver ì—ì„œ ì²˜ë¦¬ (Controller req íŒŒëŒ ë¦¬ì¡¸ë²„ì—ì„œ.) ConstraintViolationException, MethodArgumentNotValidException í•¨ê»˜ ExceptionHandle 12345678910111213141516171819202122232425@ExceptionHandler({ MethodArgumentNotValidException.class, ConstraintViolationException.class })protected ResponseEntity&lt;Object&gt; methodArgumentNotValidException(Exception ex, WebRequest request) { String messageKey; if(ex instanceof MethodArgumentNotValidException) messageKey = ((MethodArgumentNotValidException)ex).getBindingResult().getFieldError().getDefaultMessage(); else messageKey = CollectionUtils.lastElement(((ConstraintViolationException)ex).getConstraintViolations()).getMessage(); return getExceptionResponseEntity(ex, messageKey, new HttpHeaders(), HttpStatus.BAD_REQUEST, request);}private ResponseEntity&lt;Object&gt; getExceptionResponseEntity(Exception exception, String code, HttpHeaders headers, HttpStatus status, WebRequest request) { Result result; try { result = new Result(code, messageSource.getMessage(code, null, request.getLocale())); } catch (Exception e) { result = new Result(\"9000\", messageSource.getMessage(\"9000\", null, request.getLocale())); } log.error(\"{}\", result); exception.printStackTrace(); return new ResponseEntity&lt;Object&gt;(result, headers, status);} Ref _https://beanvalidation.org/latest-draft/spec/_ _https://beanvalidation.org/latest-draft/spec/#builtinconstraints_ _https://reflectoring.io/bean-validation-with-spring-boot/_ _https://reflectoring.io/bean-validation-anti-patterns/_ _https://www.baeldung.com/spring-boot-bean-validation_ _https://www.baeldung.com/javax-validation_","link":"/2020/04/26/beanvalidation/"},{"title":"ThreadDump","text":"ThreadDump Ref _https://dzone.com/articles/how-to-read-a-thread-dump_","link":"/2020/04/26/ThreadDump/"},{"title":"ChromeDevTool","text":"Ref _https://developers.google.com/web/tools/chrome-devtools_","link":"/2020/04/26/ChromeDevTool/"},{"title":"centos","text":"Cetnos ì´ê±°ì €ê±°rpm íŒŒì¼ëª… íŒ¨í‚¤ì§€ëª…-ë²„ì „-ë¦´ë¦¬ì¦ˆë²ˆí˜¸.OSë²„ì „.CPUì•„í‚¤í…ì²˜.rpm (ex. zip-3.0-10.el7.x86_64.rpm) ì„¤ì¹˜rpm -Uvh íŒ¨í‚¤ì§€íŒŒì¼.rpm(U : install or upgrade, v : verbose, h : hash í‘œì‹œ) ì‚­ì œrpm -e íŒ¨í‚¤ì§€ëª… ì„¤ì¹˜ íŒ¨í‚¤ì§€ ì¡°íšŒ rpm -qa íŒ¨í‚¤ì§€ëª… : ì„¤í”¼í™•ì¸ rpm -qf íŒŒì¼ê²½ë¡œ(ì ˆëŒ€) : ì„¤ì¹˜ëœ íŒŒì¼ì´ ì–´ëŠ íŒ¨í‚¤ì§€ì— í¬í•¨ëœ ê²ƒì¸ì§€. rpm -ql íŒ¨í‚¤ì§€ëª… : íŠ¹ì •íŒ¨í‚¤ì§€ì— í¬í•¨ë˜ íŒŒì¼ í™•ì¸. rmp -qi íŒ¨í‚¤ì§€ëª… : ì„¤í”¼ë˜ íŒ¨í‚¤ì§€ ìƒì„¸ì •ë³´ ë³´ê¸° rmp íŒŒì¼ì¡°íšŒ rpm -qlp íŒ¨í‚¤ì§€íŒŒì¼.rpm : íŒ¨í‚¤ì§€ íŒŒì¼ì— í¬í•¨ë˜ íŒŒì¼ë“¤ í™•ì¸ rpm -qip íŒ¨í‚¤ì§€íŒŒì¼.rmp : íŒ¨í‚¤ì§€ íŒŒì¼ì˜ ìƒì„¸ì •ë³´ ë³´ê¸° yumrpm ì²˜ëŸ¼ ì„¤ì¹˜íŒŒì¼ì´ í•„ìš” ì—†ë‹¤. 1) íŒ¨í‚¤ì§€ ì„¤ì¹˜:yum install packageExample:yum install httpd 2) íŒ¨í‚¤ì§€ ì‚­ì œ:yum remove packageExample:yum remove httpd 3) íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸:yum update packageExample:yum update httpd 4) íŒ¨í‚¤ì§€ ê²€ìƒ‰:yum search packageExample:yum search httpd 5) íŒ¨í‚¤ì§€ ì •ë³´:yum info packageExample:yum info httpd 6) íŠ¹ì •ë‹¨ì–´ê°€ í¬í•¨ ëœ íŒ¨í‚¤ì§€ ë¦¬ìŠ¤íŠ¸:yum list termExample:yum list httpd 7) íŠ¹ì • íŒŒì¼ì„ ì œê³µí•œ íŒ¨í‚¤ì§€ ê²€ìƒ‰:yum whatprovides filenameExample:yum whatprovides httpd.conf 8) ì»¤ë„ íŒ¨í‚¤ì§€ì— ì„¤ì¹˜ëœ ëª¨ë“  íŒ¨í‚¤ì§€ë¥¼ ì—…ë°ì´íŠ¸:yum -y updateExample:yum -y update 9) ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ í™•ì¸yum list installed ip í™•ì¸yum install net-tools locale ì„¤ì •centos 7 ë¶€í„°ëŠ” i18n ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ í˜„ì¬ locale í™•ì¸ [root@3386ae4861e8 /]# env | grep -e LANG -e LCLANG=en_US.UTF-8 os version í™•ì¸ cat /etc/system-release ì„¤ì¹˜ëœ key listrpm -qa gpg-pubkey*","link":"/2020/04/29/centos/"},{"title":"dev","text":"ê°„ë‹¨í•œ ì›¹ ê°œë°œê¸° ì„¤ì •ê°œë°œê¸° ì„¤ì¹˜ ì„œë¹„ìŠ¤ ì •ë³´ ssh jenkins apache tomcat mysql version Apache/2.4.37 ip 3022 9080 80 8080 3600 port 3022 9080 80 8080 3600 ì„¤ì¹˜ /usr/sbin/apache2 ì„¤ì •íŒŒì¼ /etc/apache2/ ë¡œê·¸ /var/log/apache2;/var/log/httpd ê³„ì • root ë¹„ë°€ë²ˆí˜¸ - ì™¸ë¶€ì ‘ê·¼url - http://domain:9080/ /etc/apache2/","link":"/2020/04/29/dev/"},{"title":"dictionary","text":"indexDictionary ìš©ì–´ì„¤ëª… Title Description REPL Read Eval Print Loop LTS Long Term Support","link":"/2020/04/26/dictionary/"},{"title":"Docker","text":"Get Started aws cloud9 ì—ì„œ test. ì‹±ê°€í´ ë¦¬ì ¼ 123456789101112131415161718192021222324252627282930313233343536372087 docker ps -a2088 docker build -t getstarted:part2 .2089 docker tag getstarted:part2 aichoora/private:getstartedpart2 2091 docker login 2093 docker info | grep User2095 docker push aichoora/private:getstartedpart22096 docker images2097 docker rmi -f 30 2100 docker run -d -p 4000:80 --name jj aichoora/private:getstartedpart22101 docker ps -l 2103 curl localhost:40002104 docker logs b02105 docker inspect b02106 docker exec -it jj bash 2108 docker rm -f b02109 docker ps -a2110 cd ..2111 cd part32112 docker service ls 2114 docker swarm init2115 docker stack deploy -c docker-compose.yml getstartedpart22116 docker service ls2117 docker service ps p32118 docker ps -a2119 curl localhost:4000 2121 docker ps -a2122 docker kill 3f2123 docker serivce ls 2125 docker service ps p32126 docker service rm p32127 docker stack ls2128 docker service ls2129 docker swarm leave --force2130 docker images2131 docker rmi -f 302132 docker logout2133 docker system prunestart í•œ container ì— port bindingcommit í›„ ë‹¤ì‹œ run docker stop ì»¨í…Œì´ë„ˆì´ë¦„docker commit ì»¨í…Œì´ë„ˆì´ë¦„ ì´ë¯¸ì§€ì´ë¦„docker run -dit -p xx:xx ì´ë¯¸ì§€ì´ë¦„ Ref docs.docker.com","link":"/2020/04/26/docker/"},{"title":"Dos Command","text":"netstat tree _https://web.csulb.edu/~murdock/tree.html_ tree /F : íŒŒì¼ê¹Œì§€ ì¶œë ¥ 1234tree /fâ”œâ”€staticâ”‚ â””â”€docsâ”‚ index.html tree /A : tree /a ë¼ê³  í•˜ë©´, íŠ¸ë¦¬êµ¬ì¡°ë¥¼ í‘œí˜„í•  ë•Œ, ê·¸ë˜í”½ ë¬¸ìê°€ ì•„ë‹Œ, í‚¤ë³´ë“œë¡œ ì…ë ¥ ê°€ëŠ¥í•œ ì¼ë°˜ ë¬¸ìë¡œ í‘œí˜„í•©ë‹ˆë‹¤. 1234tree /a /f+---static| \\---docs| index.html","link":"/2020/04/26/dos/"},{"title":"draft","text":"indexTitle _https://www.baeldung.com/spring-boot-ehcache_ ìˆœì„œ ì„¤ëª…1 ì„¤ëª…2 123&lt;dependency&gt; &lt;groupId&gt;ì½”ë“œ&lt;/groupId&gt;&lt;/dependency&gt;","link":"/2020/04/26/draft/"},{"title":"Ehcache","text":"Spring Boot ì—ì„œ Ehcache version 3 ì„¤ì • _https://www.baeldung.com/spring-boot-ehcache_ pom.xml net.sf.ehcache ëŠ” version 2 , org.ehcache ëŠ” version3 ehcache.xml ì„¤ì •ë°©ë²•ì´ ë§ì´ ë‹¬ë¼ì¡Œë‹¤. ë‚´ìš©ì€ ë¹„ìŠ·í•œë“¯â€¦ CacheEventListener ë¡œ ë¡œê¹… í•˜ê¸°ê°€ version3 ê°€ ì¢€ë” ì‰¬ìš´ë“¯í•˜ë‹¤. ê¸°ë³¸ ì–´ë…¸í…Œì´ì…˜ ì„¤ì •ë§Œ í•˜ë©´ ë¡œê¹… ì„¤ì •ì„ trace ë¡œ í•´ë„ ë³„ë¡œ ì°íˆëŠ”ê²Œ ì—†ì–´ì„œ mbean í†µí•´ì„œ ë³„ë„ ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê±°ë‚˜, statistics ì •ë³´ë§Œ ì£¼ê¸°ì ìœ¼ë¡œ ë¡œê·¸ì— ìŒ“ê±°ë‚˜ í•˜ê¸°ê¹Œì§€ ì‘ì—…ì´ í•„ìš” ì—†ì„ ê²½ìš° ê°„ë‹¨íˆ CacheEventListener ë¡œ ë¡œê·¸ë¥¼ ë‚¨ê¸°ë©´ ë ë“¯ í•˜ë‹¤. 12345678910111213141516171819&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt; &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;javax.cache&lt;/groupId&gt; &lt;artifactId&gt;cache-api&lt;/artifactId&gt; &lt;version&gt;1.1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.ehcache&lt;/groupId&gt; &lt;artifactId&gt;ehcache&lt;/artifactId&gt; &lt;version&gt;3.6.2&lt;/version&gt;&lt;/dependency&gt; ehcache.xml _https://www.ehcache.org/documentation/3.0/xml.html_ Spring boot 2 ì´ìƒ? ì€ version2 3 ëª¨ë‘ì§€ì›. Spring boot ì—ì„œ ì‚¬ìš©ì‹œ key vaule type ì€ ì‚­ì œí•œë‹¤. 12345678910111213141516171819202122232425262728293031&lt;config xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://www.ehcache.org/v3\" xmlns:jsr107=\"http://www.ehcache.org/v3/jsr107\" xsi:schemaLocation=\" http://www.ehcache.org/v3 http://www.ehcache.org/schema/ehcache-core-3.0.xsd http://www.ehcache.org/v3/jsr107 http://www.ehcache.org/schema/ehcache-107-ext-3.0.xsd\"&gt; &lt;cache-template name=\"commonTemplate\"&gt; &lt;!-- &lt;key-type&gt;java.lang.Long&lt;/key-type&gt; --&gt; &lt;!-- &lt;value-type&gt;java.math.BigDecimal&lt;/value-type&gt; --&gt; &lt;expiry&gt; &lt;ttl unit=\"seconds\"&gt;300&lt;/ttl&gt; &lt;/expiry&gt; &lt;listeners&gt; &lt;listener&gt; &lt;class&gt;com.baeldung.cachetest.config.CacheEventLogger&lt;/class&gt; &lt;event-firing-mode&gt;ASYNCHRONOUS&lt;/event-firing-mode&gt; &lt;event-ordering-mode&gt;UNORDERED&lt;/event-ordering-mode&gt; &lt;events-to-fire-on&gt;CREATED&lt;/events-to-fire-on&gt; &lt;events-to-fire-on&gt;EXPIRED&lt;/events-to-fire-on&gt; &lt;/listener&gt; &lt;/listeners&gt; &lt;resources&gt; &lt;heap unit=\"entries\"&gt;2&lt;/heap&gt; &lt;offheap unit=\"MB\"&gt;10&lt;/offheap&gt; &lt;/resources&gt; &lt;/cache-template&gt; &lt;cache alias=\"device\" use-template=\"commonTemplate\"/&gt;&lt;/config&gt; config ì— ehcahce.xml ìœ„ì¹˜ ì§€ì • 1spring.cache.jcache.config=classpath:ehcache.xml @EnableCaching ì¶”ê°€1234567@SpringBootApplication@EnableCachingpublic class Application { public static void main(String[] args) { SpringApplication.run(Application.class, args); }} cache ëŒ€ìƒ ì„¤ì • key condition ì„ ì§€ì •í• ìˆ˜ ìˆìœ¼ë‚˜, ê¸°ë³¸ ì „ë‹¬í•˜ëŠ” íŒŒë¼ë©”í„° ë‹¨ìœ„ë¡œ ì„¤ì •ëœë‹¤. _https://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/cache.html#cache-annotations-cacheable-default-key_ If no params are given, return 0.If only one param is given, return that instance.If more the one param is given, return a key computed from the hashes of all parameters. íŒŒëŒì´ object ì˜ ê²½ìš° hashcode &amp; equal ê°’ìœ¼ë¡œ ê²°ì •ë˜ë‹ˆ lombok ì‚¬ìš©í• ê²½ìš° @EqualsAndHashCode(exclude = {&quot;id&quot;}) í˜•íƒœë¡œ ì§€ì •. 12345678910111213@Servicepublic class DeviceService { // ... @Cacheable( value = \"device\", key = \"#deviceId\", condition = \"#deviceId&gt;10\") public Device getDevice(Long deviceId) { //... return new Device(); }} logging CacheEventLogger 123456789101112public class CacheEventLogger implements CacheEventListener&lt;Object, Object&gt; { // ... @Override public void onEvent( CacheEvent&lt;? extends Object, ? extends Object&gt; cacheEvent) { log.info(/* message */, cacheEvent.getKey(), cacheEvent.getOldValue(), cacheEvent.getNewValue()); }} ê²°ê³¼ 1INFO [e [_default_]-0] c.b.cachetest.config.CacheEventLogger : Cache event CREATED for item with key 12. Old value = null, New value = 144","link":"/2020/04/26/ehcache/"},{"title":"fcm","text":"indexTitle _https://www.baeldung.com/spring-boot-ehcache_ ìˆœì„œ ì„¤ëª…1 ì„¤ëª…2 123&lt;dependency&gt; &lt;groupId&gt;ì½”ë“œ&lt;/groupId&gt;&lt;/dependency&gt;","link":"/2020/04/26/fcm/"},{"title":"git","text":"config1234567git --versiongit config --global user.name aichooragit config --global user.email aichoora@gmail.comgit config --get user.emailgit config --listgit config --global --editgit status Work Tree1git add [file] Index (Stage)1git commit -m \"desc\" Local Repository (&gt;git init)1git init log1git log push1git push -u origin master pull1git pull origin master add to index, commit to local repo, push to remote repo1git add . &amp;&amp; git commit -m &quot;...&quot; &amp;&amp; git push branch123git branch -agit branch -vvgit checkout -b localbranchh orain/remotebranch new repository ì— ê¸°ì¡´ project ì¶”ê°€12345git initgit add .git commit -m &quot;first commit&quot;git remote add origin https://github.com/aichoora/spring-oauth2.gitgit push -u origin master","link":"/2020/04/26/git/"},{"title":"Java process í™•ì¸","text":"jps 12345C:\\&gt;jps18816 BootLanguagServerBootApp4904 JJApiApplication9192 Jps18732 tasklist 123456789C:\\&gt;tasklist | find \"java\"javaw.exe 18816 Console 1 153,500Kjavaw.exe 4904 Console 1 351,972KC:\\&gt;jps18816 BootLanguagServerBootApp18052 Jps4904 JJApiApplication18732 netstat -o 123456789101112131415161718192021222324252627282930313233C:\\&gt;jps18816 BootLanguagServerBootApp4904 JJApiApplication187325340 JpsC:\\&gt;netstat -ano | find \"4904\" TCP 0.0.0.0:3128 0.0.0.0:0 LISTENING 4904 TCP 0.0.0.0:3132 0.0.0.0:0 LISTENING 4904 TCP 0.0.0.0:3133 0.0.0.0:0 LISTENING 4904 TCP 0.0.0.0:8080 0.0.0.0:0 LISTENING 4904 TCP 0.0.0.0:35729 0.0.0.0:0 LISTENING 4904 TCP 127.0.0.1:3131 127.0.0.1:3129 ESTABLISHED 4904 TCP 127.0.0.1:3136 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3137 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3138 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3139 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3140 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3141 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3142 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3143 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3144 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3145 127.0.0.1:3306 ESTABLISHED 4904 TCP 127.0.0.1:3147 127.0.0.1:3148 ESTABLISHED 4904 TCP 127.0.0.1:3148 127.0.0.1:3147 ESTABLISHED 4904 TCP 127.0.0.1:3149 127.0.0.1:3150 ESTABLISHED 4904 TCP 127.0.0.1:3150 127.0.0.1:3149 ESTABLISHED 4904 TCP 127.0.0.1:8080 127.0.0.1:3241 FIN_WAIT_2 4904 TCP 127.0.0.1:8080 127.0.0.1:3242 FIN_WAIT_2 4904 TCP 127.0.0.1:8080 127.0.0.1:3246 FIN_WAIT_2 4904 TCP 127.0.0.1:8080 127.0.0.1:3247 FIN_WAIT_2 4904 TCP 127.0.0.1:8080 127.0.0.1:3248 FIN_WAIT_2 4904 TCP 127.0.0.1:8080 127.0.0.1:3249 FIN_WAIT_2 4904 Ref _https://dzone.com/articles/how-to-read-a-thread-dump_","link":"/2020/04/26/findjavaprocess/"},{"title":"Hexo blog","text":"Hexo blog ë§Œë“¤ê¸°Hexo ì„¤ì¹˜ Node , Git ì„¤ì¹˜ Hexo ì„¤ì¹˜ 1npm install hexo-cli -g hexo scafold ìƒì„± 1hexo init í´ë”ëª… package install 1npm install ì„œë²„êµ¬ë™ 1hexo s ìƒˆê¸€ì‘ì„± ìƒˆ ê²Œì‹œê¸€ ì‘ì„± hexo new í¬ìŠ¤íŠ¸ëª… ë“œë˜í”„íŠ¸ê¸€ ì‘ì„± hexo new draft â€œí¬ìŠ¤íŠ¸ëª…â€ git ë°°í¬ git deploy ì„¤ì • (_config.yml) 1234deploy: type: git repo: https://github.com/xxx/blog.git branch: master generate &amp; deploy 1hexo clean; hexo d -g í…Œë§ˆ ì„¤ì¹˜ icarus í…Œë§ˆ ì„¤ì¹˜ 1git clone git clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus ì ìš© clean , generate, deploy 1hexo clean;hexo d -g site url ìˆ˜ì • _config.xml logo ìˆ˜ì • themes/icarus/source/img/logo.svg ìˆ˜ì • í…Œë§ˆì ìš©","link":"/2020/04/26/hexo/"},{"title":"install-apache-ubuntu","text":"Ubuntu Apache ì„¤ì¹˜ ì„¤ì¹˜ apt install apache2 ì‹œì‘ service apache2 start ë²„ì „í™•ì¸ apachectl -version ëª¨ë“ˆ ì‚¬ìš© ì„¤ì • í™•ì¸ apachectl -M Reverse Proxy ì„¤ì •a2enmod ëª…ë ¹ì–´ë¥¼ í†µí•´ ì•„ë˜ ëª¨ë“ˆ í™œì„±í™” a2enmod proxya2enmod proxy_httpa2enmod proxy_balancera2enmod lbmethod_byrequests ì•„íŒŒì¹˜ ì„¤ì • ë””ë ‰í† ë¦¬/etc/apache2/ ì•„íŒŒì¹˜ ê¸°ë³¸ ì„¤ì • íŒŒì¼/etc/apache2/apache2.conf ì•„íŒŒì¹˜ í¬íŠ¸ ì„¤ì • íŒŒì¼/etc/apache2/ports.conf virtual host ê´€ë¦¬ ë””ë ‰í† ë¦¬ (ì•„íŒŒì¹˜ì—ì„œëŠ” í•´ë‹¹ ë””ë ‰í† ë¦¬ë¥¼ ì§ì ‘ ì°¸ì¡°í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.)/etc/apache2/sites-available/ virtual hostë¥¼ ì´ìš©í•˜ê¸° ìœ„í•œ ì„¤ì • ë””ë ‰í† ë¦¬/etc/apache2/sites-enabled/000-default.conf -&gt; ../sites-available/000-default.conf ì™€ ê°™ì´ ì‹¬ë³¼ë¦­ ë§í¬ë¥¼ ì´ìš©í•˜ì—¬ sites-available ë””ë ‰í† ë¦¬ íŒŒì¼ì„ ì°¸ì¡°í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ì§„ë‹¤. ëª¨ë“ˆ ì„¤ì • ë””ë ‰í† ë¦¬/etc/apache2/mods-available/, /etc/apache2/mods-enabled/ apache tomcat ì—°ë™mod_jk ì»¨ë„¥í„° ì„¤ì¹˜apt install libapache2-mod-jk workers.properties íŒŒì¼ ìƒì„±/etc/apache2/workers.properties 12345678910111213141516171819202122workers.tomcat_home=/usr/share/tomcat8workers.java_home=/usr/lib/jvm/java-8-openjdk-amd64# oracle jdk ì‚¬ìš©ì‹œ# workers.java_home=/usr/lib/jvm//java-8-oracle/# Define 1 real worker ajp13worker.list=tomcat1# worker.list=tomcat1,tomcat2 # ë³µìˆ˜ê°œì´ê²½ìš°# Set properties for tomcat1 (ajp13)worker.tomcat1.port = 8009# worker.tomcat1.host = 192.168.123.120 # ë¡œì»¬ì¼ ê²½ìš°worker.tomcat1.host = localhostworker.tomcat1.type = ajp13worker.tomcat1.lbfactor = 20# Set properties for tomcat2 (ajp13)# worker.tomcat2.port = 8019# worker.tomcat2.host = ip# worker.tomcat2.type = ajp13# worker.tomcat2.lbfactor = 30jk.conf íŒŒì¼ ìˆ˜ì •/etc/apache2/mods-available/jk.conf 12# JkWorkersFile /etc/libapache2-mod-jk/workers.propertiesJkWorkersFile /etc/apache2/workers.properties default.conf ìˆ˜ì •/etc/apache2/sites-available/000-default.conf 1234567891011121314 DocumentRoot /var/www/html JkMount /* tomcat1 ``` ## server.xml ajp í¬íŠ¸ ì„¤ì •/var/lib/tomcat8/conf/server.xml 8009 connector ì£¼ì„ í•´ì œ## apache2, tomcat restart ``` sh root@80debf1018f4:/etc/init.d# ./apache2 restart root@80debf1018f4:/etc/init.d# ./tomcat8 restart","link":"/2020/04/29/install-apache-ubuntu/"},{"title":"install-apache-centos","text":"centos ì•„íŒŒì¹˜ ì„œë²„ ì„¤ì¹˜ì„¤ì¹˜ yum -y install httpd ì„¤ì¹˜í™•ì¸ yum list installed | grep httpd ë²„ì „ í™•ì¸ httpd -v ë°ëª¬ì‹œì‘ systemctl start httpd.service ë¶€íŒ…ì‹œ httpd ë“±ë¡ systemctl enable httpd.service ë°©í™”ë²½ ì˜¤í”ˆ firewall-cmd â€“permanent â€“zone=public â€“add-service=httpfirewall-cmd â€“reloadfirewall-cmd â€“list-port tomcat ì—°ë™gcc gcc-c++ httpd-devel make ì„¤ì¹˜yum install gcc gcc-c++ httpd-devel make mod_jk(ë‹¤ìš´ë¡œë“œ &amp; ì„¤ì¹˜)wget http://mirror.navercorp.com/apache/tomcat/tomcat-connectors/jk/tomcat-connectors-1.2.48-src.tar.gztar zxvf tomcat-connector*cd tomcat-connectors-1.2.48-src/native./configure â€“with-apxs=/usr/bin/apxsmakemake install LoadModule ì¶”ê°€vi /etc/httpd/conf/httpd.confLoadModule jk_module modules/mod_jk.sohttpd-jk.conf ìƒì„±vi /etc/httpd/conf.d/httpd-jk.conf 12345678LoadModule jk_module modules/mod_jk.so&lt;IfModule jk_module&gt; JkWorkersFile conf.d/workers.properties JkLogFile logs/mod_jk.log JkLogLevel info JkShmFile run/mod_jk.shm JkMountFile conf.d/uriworkermap.properties&lt;/IfModule&gt; worker ìƒì„±vi /etc/httpd/conf.d/workers.properties 12345worker.list=tomcat1 worker.tomcat1.port=8009 worker.tomcat1.host=localhost worker.tomcat1.type=ajp13 worker.tomcat1.lbfactor=1 uriworkermap ìƒì„±vi /etc/httpd/conf.d/uriworkermap.properties 1/*=tomcat1 config í…ŒìŠ¤íŠ¸apachectl configtest tomcat ajp port ì˜¤í”ˆvi /opt/tomcat/conf/server.xmlajp í¬íŠ¸ì„¤ì • apache2, tomcat ì¬ê¸°ë™systemctl restart tomcatsystemctl restart httpd Ref09. ë¦¬ëˆ…ìŠ¤(CentOS) ê°œë°œ ë†€ì´í„° ë§Œë“¤ê¸° - Apacheì™€ Tomcat ì—°ë™","link":"/2020/04/28/install-apache-centos/"},{"title":"install-tomcat-ubuntu","text":"Ubuntu ì— java ì„¤ì¹˜í•˜ê¸°ì„¤ì¹˜í™•ì¸java -version ì„¤ì¹˜í• íŒ¨í‚¤ì§€ í™•ì¸apt list | grep openjdk ì„¤ì¹˜apt install openjdk-8-jdk -y íŒŒì¼ìœ„ì¹˜ ìœ„ì¹˜ ì„¤ëª… ì„¤ì¹˜ /usr/lib/jvm/java-8-openjdk-amd64","link":"/2020/04/29/install-java-ubuntu/"},{"title":"install-mysql-centos","text":"","link":"/2020/04/28/install-mysql-centos/"},{"title":"install-jenkins-centos","text":"CentOS jenkins ì„¤ì¹˜LTS version ë‹¤ìš´ë¡œë“œ,í‚¤ import,ì„¤ì¹˜ wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins.io/redhat-stable/jenkins.reporpm â€“import http://pkg.jenkins.io/redhat-stable/jenkins.io.keyrpm -qa gpg-pubkey* # ì„¤ì¹˜ëœ í‚¤í™•ì¸ (d50582e6)yum install jenkins Java ì„¤ì¹˜ yum install java-1.8.0-openjdk í¬íŠ¸ ë³€ê²½ /etc/sysconfig/jenkinsJENKINS_PORT=9080 ë°©í™”ë²½ ì˜¤í”ˆ firewall-cmd â€“permanent â€“zone=public â€“add-port=9080/tcpfirewall-cmd â€“reloadfirewall-cmd â€“list-port ê¸°ë™ systemctl start jenkins ì‹œìŠ¤í…œë¶€íŒ…ì‹œ ê¸°ë™ systemctl enable jenkins ì ‘ê·¼ url domain:9080 ì´ˆê¸° admin password /var/lib/jenkins/secrets/initialAdminPassword ì°¸ê³  RedHat Linux RPM packages for Jenkins Installing Jenkins on Red Hat distributions","link":"/2020/04/28/install-jenkins-centos/"},{"title":"install_svn_centos","text":"CentOS SVN ì„¤ì¹˜SVN ì„¤ì¹˜ ì„¤ì¹˜ì—¬ë¶€í™•ì¸ svn ì„¤ì¹˜í•  íŒ¨í‚¤ì§€í™•ì¸ yum list subversion ì„¤ì¹˜ yum install subversion -y","link":"/2020/04/27/install-svn-centos/"},{"title":"install-ssh-centos","text":"ssh ì„¤ì¹˜ ì„¤ì¹˜ yum install openssh-server openssh-clients openssh-askpass ìœ„ì¹˜í™•ì¸ which sshd í¬íŠ¸ë³€ê²½ vi /etc/ssh/sshd_config ë°©í™”ë²½í•´ì œ firewall-cmd â€“permanent â€“zone=public â€“add-port=3022/tcpfirewall-cmd not found ì‹œ firewalld ì„¤ì¹˜ êµ¬ë™ /bin/systemctl sshd restart","link":"/2020/04/28/install-ssh-centos/"},{"title":"install-ssh-ubuntu","text":"Ubuntu SSH ì„¤ì¹˜ ì„¤ì¹˜ apt install openssh-sever -y í¬íŠ¸ë³€ê²½ /etc/ssh/sshd_config","link":"/2020/04/29/install-ssh-ubuntu/"},{"title":"install-jvm-centos","text":"CentOS java ì„¤ì¹˜ì„¤ì¹˜ í™•ì¸ yum list installed | grep javaorjava -version ì„¤ì¹˜í•™ íŒ¨í‚¤ì§€ í™•ì¸ yum search java ë²„ì „ í™•ì¸í›„ íŒ¨í‚¤ì§€ëª… ìœ¼ë¡œ ê²€ìƒ‰ yum list java-1.8.0-openjdk ì„¤ì¹˜ yum install java-1.8.0-openjdk ì‚­ì œ yum remove java-1.8.0-openjdk","link":"/2020/04/28/install-jvm-centos/"},{"title":"intall-tomcat-centos","text":"Centos ì— Tomcat ì„¤ì¹˜í•˜ê¸°ë²„ì „ ì„ íƒtomcat ê·¸ë£¹, ìœ ì €ìƒì„± groupadd tomcatuseradd -M -s /bin/nologin -g tomcat -d /opt/tomcat tomcat ë‹¤ìš´ë¡œë“œ &amp; ì„¤ì¹˜ cd; wget http://mirror.navercorp.com/apache/tomcat/tomcat-8/v8.5.54/bin/apache-tomcat-8.5.54.tar.gzmkdir /opt/tomcat;tar xvf apache-tomcat-8*tar.gz -C /opt/tomcat â€“strip-components=1 ê¶Œí•œì„¤ì • chgrp -R tomcat /opt/tomcatchmod -R g+r /opt/tomcat/confchmod g+x /opt/tomcat/confchown -R tomcat webapps/ work/ temp/ logs/ ì„œë¹„ìŠ¤ì¶”ê°€vi /etc/systemd/system/tomcat.service 1234567891011121314151617181920212223242526# Systemd unit file for tomcat[Unit]Description=Apache Tomcat Web Application ContainerAfter=syslog.target network.target[Service]Type=forkingEnvironment=JAVA_HOME=/usr/lib/jvm/jreEnvironment=CATALINA_PID=/opt/tomcat/temp/tomcat.pidEnvironment=CATALINA_HOME=/opt/tomcatEnvironment=CATALINA_BASE=/opt/tomcatEnvironment='CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC'Environment='JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom'ExecStart=/opt/tomcat/bin/startup.shExecStop=/bin/kill -15 $MAINPIDUser=tomcatGroup=tomcatUMask=0007RestartSec=10Restart=always[Install]WantedBy=multi-user.target systemctl daemon-reloadsystemctl start tomcat admin ê³„ì •ìƒì„±vi /opt/tomcat/conf/tomcat-users.xml 123&lt;tomcat-users&gt; &lt;user username=\"admin\" password=\"password\" roles=\"manager-gui,admin-gui\"/&gt;&lt;/tomcat-users&gt; manager access ip ì œí•œ ì‚­ì œvi /opt/tomcat/webapps/manager/META-INF/context.xmlip ì„¤ì • ì‚­ì œ(comment out) ì¬ê¸°ë™ systemctl restart tomcat admin ì ‘ì†http://ë„ë©”ì¸/manager/html ì„¤ì¹˜ê²½ë¡œ ìœ„ì¹˜ ì„¤ëª… ì„¤ì¹˜ê²½ë¡œ /opt/tomcat ì‹¤í–‰íŒŒì¼ /opt/tomcat/bin ì„¤ì •íŒŒì¼ /opt/tomcat/conf ë°°í¬ê²½ë¡œ /opt/tomcat/webapps ë¡œê·¸íŒŒì¼ /opt/tomcat/logs RefHow To Install Apache Tomcat 8 on CentOS 7","link":"/2020/04/28/install-tomcat-centos/"},{"title":"install-tomcat-ubuntu","text":"Ubuntu ì— Tomcat ì„¤ì¹˜í•˜ê¸°ë²„ì „ ì„ íƒì„¤ì¹˜apt install tomcat8 tomcat8-docs tomcat8-examples tomcat8-admin -y ê¸°ë™service tomcat8 startorsh /etc/init.d/tomcat8 start íŒŒì¼ìœ„ì¹˜ ìœ„ì¹˜ ì„¤ëª… ì„¤ì¹˜ /var/lib/tomcat8 ê¸°ë™ /usr/share/tomcat8/bin ì„¤ì • /var/lib/tomcat8/conf/ ë°°í¬ /var/lib/tomcat8/webapps ë¡œê·¸ /var/lib/tomcat8/logs","link":"/2020/04/29/install-tomcat-ubuntu/"},{"title":"intellij","text":"eclipse vs intellijì¥ì  ì „ì²´ì ìœ¼ë¡œ ì¸í…”ë¦¬ ì„¼ì‹± ê¸°ëŠ¥ì´ ì¢‹ìŒ ìµœì´ˆ IDE êµ¬ë™ì‹œ indexing í•˜ëŠ” ì‹œê°„ì´ í•„ìš”í•˜ì§€ë§Œ, ì´í›„ ë²„ë²…ê±°ë¦¼? ì´ ì ìŒ. ì „ì²´ì ìœ¼ë¡œ ë¹ ë¥¸ëŠë‚Œ. ìë™ì™„ì„±ì´ë‚˜ quick fix, refactor í• ë•Œ ë“±. Community ë²„ì „ì€ í”„ë ˆì„ì› ì§€ì›ì´ ì•ˆë˜ê³ , ë¡œì»¬ was í”„ë¡œíŒŒì¼ì´ ì—†ì–´ì„œ ì„¤ì •ì´ ì–´ë ¤ì›€. ultimate ë²„ì „ ì•ˆì“¸ê±°ë©´ ê·¸ëƒ¥ eclipse dark í…Œë§ˆê°€ eclipse ë³´ë‹¤ ë³´ê¸° í¸í•¨. ê²€ìƒ‰ ê²°ê³¼ê°€ ë¹ ë¦„. í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ê°€ ìš©ì´ mybatis í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜í•˜ë©´ mapper ì—ì„œ ë°”ë¡œ xml sql ë¡œ ì´ë™ë¨. spring ë¹ˆ ì •ì˜ë¡œ ë°”ë¡œ ì´ë™ë˜ê±°ë‚˜ ìˆì—ˆìœ¼ë©´ í–ˆë˜ ë¶€ë¶„ì´ ìˆìŒ. ë‹¨ì  í•œê°œ project ê°€ í•œê°œì˜ window ê°€ ì´ë¯€ë¡œ ì´í´ë¦½ìŠ¤ì²˜ëŸ¼ ì—¬ëŸ¬ê°œ ë„ì›Œë†“ê³  í•œêº¼ë²ˆì— ê²€ìƒ‰ì´ ì•ˆë¨. pom jar ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰ì´ ì•ˆë¨. dependency í™•ì¸í• ë•Œ ë§ì´ ì“°ë˜ ë¶€ë¶„ì¸ë°â€¦ jboss ì„¤ì •ì„ ìˆ˜ë™ìœ¼ë¡œ í•´ì•¼í•¨. base director ì„¤ì •ë“± vmoption ìœ¼ë¡œ ì „ë‹¬í•´ ì£¼ì–´ì•¼í•¨. intellij keymapê¸°ë³¸ intellij keymap ì— ì ì‘í•˜ë ¤ í–ˆìœ¼ë‚˜, ì´ì   ì˜ ì•ˆëœë‹¤. ìê¾¸ ì†ì— ìµì€ê±¸ë¡œ ê°€ê²Œ ë˜ë„¤.. ì´í´ë¦½ìŠ¤ keymap ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆë‹¤. ì•„ë˜ëŠ” ìˆ˜ë™ìœ¼ë¡œ mapping í•´ì¤€ ë¶€ë¶„ ì´ë‹¤. find actions : ctrl + 3 terminal : ctrl + ` close : ctrl + f4 -&gt; ctrl + w intellij plugin lombok mybatis","link":"/2020/04/26/intellij/"},{"title":"java","text":"indexJava openjdk _https://github.com/ojdkbuild/ojdkbuild_ Ref","link":"/2020/04/26/java/"},{"title":"java_security","text":"indexjava-security-overview _https://www.baeldung.com/java-security-overview#public_key_infrastructure_ HSM ì„¤ëª…1 ì„¤ëª…2 123&lt;dependency&gt; &lt;groupId&gt;ì½”ë“œ&lt;/groupId&gt;&lt;/dependency&gt; ì¸ì¦ì„œ í‚¤ìƒì„± í‚¤ìŠ¤í† ì–´ CA ì„œëª… ì„œëª…í™•ì¸ ë©”ì„¸ì§€ë‹¤ì´ì œìŠ¤íŠ¸ JCA/JCE","link":"/2020/04/26/java_security/"},{"title":"maven","text":"indexMaven AsciiDoc Install&nbsp;&nbsp;&nbsp;gem package manager, asciidoctor ì„¤ì¹˜. ruby install stackoverflow rubyinstaller downloads asciidoctor install asciidoctor 1gem install asciidoctor AsciiDoc Convert&nbsp;&nbsp;&nbsp;ê¸°ë³¸ html5 ë¡œ ë³€í™˜ë¨ &nbsp;&nbsp;&nbsp;convert-documents 1asciidoctor aaa.adoc Spring-Restdocs&nbsp;&nbsp;&nbsp; maven test ì‹œì— target í•˜ìœ„ì— adoc íŒŒì¼ ìƒì„±ë˜ê³  package ìˆ˜í–‰ì‹œì— ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘” main í•˜ìœ„ adoc íŒŒì¼ë¡œ html doc íŒŒì¼ì´ ìƒì„±ëœë‹¤. main í•˜ìœ„ì˜ adoc íŒŒì¼ì— unit test ì— ìƒì„±ëœ adoc íŒŒì¼ì´ include ëœë‹¤. &nbsp;&nbsp;&nbsp;spring-restdocs-reference &nbsp;&nbsp;&nbsp;restdoc sample git &nbsp;&nbsp;&nbsp;restdoc sample Ref &nbsp;&nbsp;&nbsp;https://maven.apache.org/","link":"/2020/04/26/maven/"},{"title":"bouncycastle ì¶”ê°€","text":"Jdk 8 bouncycastle provider ì¶”ê°€í•˜ê¸°jre ì— ì¶”ê°€ í•˜ê±°ë‚˜ ì†ŒìŠ¤ì— ì¶”ê°€í•œë‹¤. JRE ì— ì¶”ê°€ í•˜ê¸° jar ì„¤ì¹˜ https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.64 jar ë‹¤ìš´ë¡œë“œí›„ jre_home/lib/ext ì— ë³µì‚¬ java.security íŒŒì¼ì— í”„ë¡œë°”ì´ë” ì¶”ê°€. jre_home/lib/security/java.security íŒŒì¼ì— BC í”„ë¡œë°”ì´ë” ì¶”ê°€ 123456789101112security.provider.1=sun.security.provider.Sunsecurity.provider.2=sun.security.rsa.SunRsaSignsecurity.provider.3=sun.security.ec.SunECsecurity.provider.4=com.sun.net.ssl.internal.ssl.Providersecurity.provider.5=com.sun.crypto.provider.SunJCEsecurity.provider.6=sun.security.jgss.SunProvidersecurity.provider.7=com.sun.security.sasl.Providersecurity.provider.8=org.jcp.xml.dsig.internal.dom.XMLDSigRIsecurity.provider.9=sun.security.smartcardio.SunPCSCsecurity.provider.10=sun.security.mscapi.SunMSCAPI# ì¶”ê°€security.provider.11=org.bouncycastle.jce.provider.BouncyCastleProvider í…ŒìŠ¤íŠ¸ 1234567891011package security;import java.security.Security;import java.util.Arrays;public class AddBCProvider { public static void main(String[] args) { Arrays.asList(Security.getProviders()).stream().forEach(pv -&gt; System.out.println(pv.getInfo())); }} 123SUN (DSA key/parameter generation; DSA signing; SHA-1, MD5 digests; SecureRandom; X.509 certificates; JKS &amp; DKS keystores; PKIX CertPathValidator; PKIX CertPathBuilder;...BouncyCastle Security Provider v1.64 í”„ë¡œê·¸ë¨ì—ì„œ ì¶”ê°€í•˜ê¸° pom.xml 12345&lt;dependency&gt;&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;&lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;&lt;version&gt;1.64&lt;/version&gt;&lt;/dependency&gt; ì½”ë“œì— í”„ë¡œë°”ì´ë” ì¶”ê°€ ë° í…ŒìŠ¤íŠ¸ 12345678910111213import org.bouncycastle.jce.provider.BouncyCastleProvider;public class AddBCProvider { // í”„ë¡œë°”ì´ë” ì¶”ê°€ static { Security.addProvider(new BouncyCastleProvider()); } public static void main(String[] args) { Arrays.asList(Security.getProviders()).stream().forEach(pv -&gt; System.out.println(pv.getInfo())); }} 123SUN (DSA key/parameter generation; DSA signing; SHA-1, MD5 digests; SecureRandom; X.509 certificates; JKS &amp; DKS keystores; PKIX CertPathValidator; PKIX CertPathBuilder;...BouncyCastle Security Provider v1.64 í”„ë¡œë°”ì´ë” ì„ íƒ%JRE_HOME%/lib/security/java.security ë²ˆí˜¸ìˆœ ìš°ì„ ìˆœìœ„. Figure 2-1 Request SHA-256 Message Digest Implementation Without Specifying Provider Figure 2-2 Request SHA-256 Message Digest with ProviderC ë””ë²„ê¹…_https://docs.oracle.com/javase/8/docs/technotes/guides/security/troubleshooting-security.html_-D ì˜µì…˜ì¶”ê°€ ì˜ˆ) í”„ë¡œë°”ì´ë” ë¡œê¹… : -Djava.security.debug=provider wildfly ì— bouncy castle ì¶”ê°€í•˜ê¸°war ë¡œ ë””í”Œë¡œì´ í• ê²½ìš° bouncy castle class path ëŠ” WEB-INF/lib wildfly module jre extension lib ì„¸ê³³ì— ë“¤ì–´ ê°ˆìˆ˜ ìˆìœ¼ë‚˜, 1&amp;2, 1&amp;3 ì— bc jar ê°€ í•¨ê»˜ í¬í•¨ ë ê²½ìš° ëŸ°íƒ€ì„ì— ì°¸ì¡°ë˜ëŠ” class ê°€ ë‹¤ë¥¼ìˆ˜ ìˆë‹¤. 1234ECNamedCurveParameterSpec namedCurve = ECNamedCurveTable.getParameterSpec(\"P-256\");org.bouncycastle.jce.spec.ECPublicKeySpec pubSpec = new org.bouncycastle.jce.spec.ECPublicKeySpec(namedCurve.getCurve().createPoint(PubX, PubY), namedCurve);KeyFactory kFact = KeyFactory.getInstance(\"EC\", \"BC\");PublicKey pubKey = kFact.generatePublic(pubSpec); ìœ„ kFact.generatePublic(pubSpec) ì½”ë“œì˜ ìƒí–‰ì‹œKeyFactory ì˜ BC êµ¬í˜„ì²´(org.bouncycastle.jcajce.provider.asymmetric.ec.KeyFactorySpi)ì—ì„œif (keySpec instanceof ECPublicKeySpec) ë¥¼ ê²€ì¦í•˜ì§€ë§Œì´ ECPublicKeySpec ëŠ” jre ì˜ ì°¸ì¡° ì¸ìŠ¤í„´ìŠ¤ì´ê³ ,ë„˜ê²¨ë°›ì€ keySpec ì€ war ë˜ëŠ” wildfly ì˜ jar ë¥¼ ì°¸ì¡°í•˜ë¯€ë¡œ ê²€ì¦ì— ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤._https://stackoverflow.com/questions/29700288/bouncycastle-1-51-loading-in-war-on-wildfly-8-0_ jre ì—ë§Œ provider ì„¤ì •ì„ ë‚¨ê²¨ë†“ê±°ë‚˜, ì´ê²Œ ì–´ë ¤ìš¸ê²½ìš° (wildfly ì— jre/ext jar ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ì°¿ì§€ ëª»í•¨;;)ì†ŒìŠ¤ìƒì—ì„œ jre í”„ë¡œë°”ì´ë”ë¥¼ ì œê±°í•˜ê³  war ì—ì„œ ì°¸ì¡°í•˜ê³  ìˆëŠ” bc lib ë¡œ ë‹¤ì‹œ í”„ë¡œë°”ì´ë”ë¥¼ ìƒì„± ì¶”ê°€í•œë‹¤. 12Security.removeProvider(BouncyCastleProvider.PROVIDER_NAME);Security.addProvider(new BouncyCastleProvider()); _https://liferay.dev/forums/-/message_boards/message/111998866_ wildfly module dependency ì¶”ê°€bouncycastle ëª¨ë“ˆì€ wildfly 9 ì´ìƒ? í¬í•¨ë˜ì–´ ìˆë‹¤.ë•Œë¬¸ì— ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ jboss ë°°í¬ ë””ìŠ¤í¬ë¦½í„°ì— ì˜ì¡´ì„±ë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤._https://developer.jboss.org/thread/175395_jboss-deployment-structure.xml 1234567&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;jboss-deployment-structure xmlns=\"urn:jboss:deployment-structure:1.1\"&gt; &lt;deployment&gt; &lt;module name=\"org.bouncycastle\" slot=\"main\" export=\"true\"/&gt; &lt;/deployment&gt;&lt;/jboss-deployment-structure&gt; wildfly class loading_https://docs.jboss.org/author/display/WFLY/Class+Loading+in+WildFly_In order of highest priority to lowest priority System Dependencies - These are dependencies that are added to the module automatically by the container, including the Java EE apiâ€™s.User Dependencies - These are dependencies that are added through jboss-deployment-structure.xml or through the Dependencies: manifest entry.Local Resource - Class files packaged up inside the deployment itself, e.g. class files from WEB-INF/classes or WEB-INF/lib of a war.Inter deployment dependencies - These are dependencies on other deployments in an ear deployment. This can include classes in an earâ€™s lib directory, or classes defined in other ejb jars. RefJava Cryptography Architecture (JCA) Reference Guide","link":"/2020/04/26/java_addprovider/"},{"title":"Logging","text":"Logger logger config file jul(java utility logging) logging logging.properties jcl(apache common logging) commong-logging.properties log4j log4j.{xml,properties} log4j2 log4j2.{xml,properties} logback logback.{xml,properties} jboss-logging jboss-logging.{xml,properties} slf4j api bridge binding spring boot logging ê¸°ë³¸ config ìœ„ì¹˜ org/springframework/boot/logging/logback/defaults.xml wildfly logging Admin_Guide logging The following configuration files are allowed: logging.properties jboss-logging.properties log4j.properties log4j.xml jboss-log4j.xml log4j2 ë‚˜ logback ì€ ì—†ë‹¤. ì“°ë ¤ë©´ module ì„ ì¶”ê°€í•˜ê±°ë‚˜, logging subsystem ì„ jboss-deployment-structure ì—ì„œ exclude í•˜ê±°ë‚˜ jboss configuration file (standalone.xml ì´ë‚˜ domain.xml) ì— logging subsystem ì—ì„œ dependency ì œê±° í•˜ëŠ” ì„¤ì •( add-logging-api-dependencies )ì„ í•´ì•¼í•œë‹¤. ë°˜ëŒ€ë¡œ application ì—ì„œ ì§€ì •ëœ logging config íŒŒì¼ì„ ë¬´ì‹œ í•˜ë ¤ë©´ (per-deployment logging ìŠ¤ìº”ì„ skip) use-deployment-logging-config ë¥¼ false ì§€ì •í•œë‹¤. wildfly ëŠ” ê¸°ë³¸ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” logging.properties ë¥¼ ì„œë²„ ê¸°ë™(boot) ì‹œì— ì‚¬ìš©í•œë‹¤. boot ì´í›„ deployment ë¡œë“œ ì´í›„ì—ëŠ” ì‚¬ìš©ê°€ëŠ¥í•œ logging config ë¥¼ ì°¿ìœ¼ë©´ ëŒ€ì²´ í•œë‹¤. í•˜ì§€ë§Œ wildfly module ì—ëŠ” ê¸°ë³¸ log4j2 ë‚˜ logback ì— ì„¤ì¹˜ë˜ì–´ìˆì§€ ì•Šê³ , ì´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë‹¨ìˆœíˆ jboss logging subsystem ë§Œ exclude í•˜ë©´ server.log ì—ëŠ” ê¸°ë³¸ logging.properties íŒ¨í„´ + [stdout] + log4j2|logback ì˜ console output ì´ ì¶œë ¥ëœë‹¤. Ref _https://logging.apache.org/log4j/2.x/manual/migration.html_ _https://logging.apache.org/log4j/2.x/manual/layouts.html_ _http://logback.qos.ch/manual/architecture.html_ _http://www.slf4j.org/manual.html_ _https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-logging_ _https://docs.wildfly.org/12/Admin_Guide.html#Logging_","link":"/2020/04/26/logging/"},{"title":"MarkDown","text":"MarkDown Mastering Markdown Markdown Cheatsheet Basic writing and formatting syntax asciidoc-vs-markdown extended-syntax","link":"/2020/04/26/markdown/"},{"title":"node","text":"indexNode ì „ì—­ë³€ìˆ˜ global console export processâ€¦","link":"/2020/04/26/node/"},{"title":"openssh","text":"==== openssh https://hahaite.tistory.com/307 https://docs.microsoft.com/ko-kr/windows-server/administration/openssh/openssh_keymanagement","link":"/2020/04/26/openssh/"},{"title":"project management","text":"ê°œë°œ ì „ë°˜ cloud Top 5 Alternatives to Heroku _https://blog.back4app.com/2018/03/13/heroku-alternatives/_ Ref","link":"/2020/04/26/project/"},{"title":"ì‹ë¬¼ë“¤","text":"ì£½ì´ì§€ë§ì ğŸ˜ : ì•„ì£¼ ì¢‹ì•„í•¨, ğŸ˜„ : ì¢‹ì•„í•¨, ğŸ¤¨ : ë³´í†µ, ğŸ¥µ : ì‹«ì–´í•¨ , â˜  : ì£½ì„ê²ƒ ê°™ë‹¤ë‚´ê±´ì„± : (í† ì–‘ìˆ˜ë¶„ ê±´ì¡°ì— ê²¬ë””ëŠ” í˜) 5ë‹¨ê³„â‘ ë§¤ìš° ì•½í•¨ â‘¡ì•½í•¨ â‘¢ë³´í†µ â‘£ê°•í•¨ â‘¤ë§¤ìš° ê°•í•¨ ì‹ë¬¼ ë¹› ë°”ëŒ ë¬¼ í™ ì˜¨ë„ ì›”ë™ ë²ˆì‹ ê³¼ ì£¼ì˜ ë‚´ê±´ì„± ë¡œì¦ˆë§ˆë¦¬ ğŸ˜ ğŸ˜ ğŸ¥µ ì‚¬ì–‘í†  20~25â„ƒ 10â„ƒ 5~7cmì‚½ëª©. ëŠ¦ë´„ or ì´ˆì—¬ë¦„. ì°¨ê´‘ ê¿€í’€ê³¼ ê³¼ìŠµ ìœ¨ë§ˆ ğŸ˜ ğŸ˜ ğŸ˜ ì‚¬ì–‘í†  16~20â„ƒ 10â„ƒ 5~7cmì‚½ëª©. ëŠ¦ë´„ or ì´ˆì—¬ë¦„. ì°¨ê´‘ ì¸¡ë°±ë‚˜ë¬´ê³¼ ë¬¼ë¶€ì¡± ë±…ê°ˆê³ ë¬´ë‚˜ë¬´ ğŸ˜ ğŸ˜ ğŸ˜ ì‚¬ì–‘í†  21~25â„ƒ 13â„ƒ 5~7cmì‚½ëª©. ëŠ¦ë´„ or ì´ˆì—¬ë¦„. ì°¨ê´‘ ë½•ë‚˜ë¬´ê³¼ ì €ì˜¨, í–‡ë¹›(ê°•í•˜ë©´ íƒ€ê³  ë¶€ì¡±í•˜ë©´ ìì´ ë–¨ì–´ì§) í™©ê¸ˆì£½ ğŸ˜ ğŸ˜ ğŸ˜ ì‚¬ì–‘í†  16~20â„ƒ 13â„ƒ 5~7cmì‚½ëª©. ëŠ¦ë´„ or ì´ˆì—¬ë¦„. ì°¨ê´‘ ë°±í•©ê³¼ í…Œì´ë¸”ì•¼ì ğŸ˜ ğŸ˜ ğŸ¤¨ ì‚¬ì–‘í†  21~25â„ƒ 13â„ƒ 5~7cmì‚½ëª©. ëŠ¦ë´„ or ì´ˆì—¬ë¦„. ì°¨ê´‘ ì•¼ìê³¼ 4 ì‹¤ë‚´ì •ì›ë¬¼ê´€ë¦¬","link":"/2020/04/26/plant/"},{"title":"springRestService","text":"indexê°„ë‹¨í•œ rest api service ë§Œë“¤ê¸° Infra nginx wildfly12 mysql 8.0.17 Community Server GPL software stack openjdk 1.8 spring boot 2.2.1 web mybatis mysql-connector lombok devtool restdocs actuator mybatis ehcache log4j (logback ì œê±°. jboss config íŒŒì¼ë¡œ ë°”ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´) deployment maven git jenkins docker documentation restdoc test junit swagger postman curl security spring security ê°œë°œìˆœì„œ jdk ì„¤ì¹˜ sts ì„¤ì¹˜ sts jboss ì„¤ì¹˜ spring boot starter í”„ë¡œì íŠ¸ ìƒì„± properties ìƒì„± logging (container,req,res,sql,exception) mysql ì„¤ì¹˜ ë° sakila sample db ì„¤ì¹˜ mysql ì—°ë™ interceptor controller exception restdoc caching scheduler unit test documentation OpenJDK _https://github.com/ojdkbuild/ojdkbuild_ STS _https://spring.io/tools_ Properties _https://www.baeldung.com/properties-with-spring_ _https://www.baeldung.com/spring-yaml_ Common Application properties Mybatis Mybatis Sample Mybatis Spring Boot Mybatis Generator log4jdbc _https://log4jdbc.brunorozendo.com/_ pom1234567891011 &lt;!-- log4jdbc --&gt; &lt;dependency&gt; &lt;groupId&gt;org.bgee.log4jdbc-log4j2&lt;/groupId&gt; &lt;artifactId&gt;log4jdbc-log4j2-jdbc4.1&lt;/artifactId&gt; &lt;version&gt;1.16&lt;/version&gt; &lt;/dependency&gt;``` - resources\\log4jdbc.log4j2.properties```propertieslog4jdbc.spylogdelegator.name=net.sf.log4jdbc.log.slf4j.Slf4jSpyLogDelegatorlog4jdbc.dump.sql.maxlinelength=0 application.yml (datasource)1234spring:datasource:driver-class-name : net.sf.log4jdbc.sql.jdbcapi.DriverSpyurl : jdbc:log4jdbc:mysql://localhost:3306/sakila?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true application.yml (logging)12345678910111213141516logging: level: # mybatis sql log off com.zaxxer : off com.xxx.api.mapper : off org.mybatis : off org.springframework.jdbc.datasource : off # log4jdbc jdbc : off jdbc.sqlonly : off jdbc.sqltiming : debug jdbc.audit : off jdbc.resultset : off jdbc.resultsettable : debug jdbc.connection : off output123456789101112131419-11-30 í†  02:39:38.725 DEBUG 12012 --- [nio-8080-exec-1] sqltiming : com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)11. SELECT actor_id, first_name, last_name, last_update FROM actor WHERE actor_id = 1{executed in 1 msec}19-11-30 í†  02:39:38.726 INFO 12012 --- [nio-8080-exec-1] resultsettable : |---------|-----------|----------|----------------------||actor_id |first_name |last_name |last_update ||---------|-----------|----------|----------------------||1 |PENELOPE |GUINESS |2006-02-15 13:34:33.0 ||---------|-----------|----------|----------------------| Error Handling-https://www.baeldung.com/global-error-handler-in-a-spring-rest-api_ FilterInterceptorResponse ê³µí†µì²˜ë¦¬ ResponseBodyAdvice input validationtesting swagger_https://github.com/springfox/springfox/issues/1499_ ResponseBodyAdvice ì ìš©ëœ controller ëŠ” ui ì— ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ. =&gt; í•´ê²° package controller ë§Œì§€ì •. _https://github.com/springfox/springfox/issues/1499_ 1@ControllerAdvice(basePackages = \"com.yourpacackge.requesthandler\") Mysql _https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html_","link":"/2020/04/26/springRestService/"},{"title":"spring","text":"indexSpring Spring MVC request life cycle Static Resources/docs/index.html ë¡œ ì ‘ê·¼í•˜ë ¤ë©´.. _https://docs.spring.io/spring/docs/5.2.1.RELEASE/spring-framework-reference/web.html#mvc-config-static-resources_ _https://www.baeldung.com/spring-mvc-static-resources_ 12345src/main/resources â””â”€static â””â”€docs â””â”€ index.html 12345678910111213141516 @Configuration public class RestDocConfig implements WebMvcConfigurer {@Overridepublic void addResourceHandlers(ResourceHandlerRegistry registry) { // classpath registry.addResourceHandler(\"/docs/**\").addResourceLocations(\"classpath:/static/docs/\").setCachePeriod(3600); // web root (WEB-INF parent directory) ex) WebContent/public/index.html // jar ë°°í¬ì‹œì—ëŠ” ì‚¬ìš©í•˜ì§€ë§ê²ƒ. registry.addResourceHandler(\"/docs/**\").addResourceLocations(\"/public\").setCachePeriod(3600); // file full path registry.addResourceHandler(\"/docs/**\").addResourceLocations(\"file:src/main/resources/static/docs/\").setCachePeriod(3600);} ... default mapping 1ResourceHttpRequestHandler [&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot;, &quot;/&quot;] Error Handle_https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-exceptionhandlers_ ResponseEntityExceptionHandler ì—ì„œ global exception ì²˜ë¦¬ @ControllerAdvice ë¥¼ ì‚¬ìš©í•˜ì—¬ ResponseEntityExceptionHandler ìƒì†ë°›ì•„ ë³„ë„ì˜ exception handling ì„ í•˜ë ¤ëŠ” ê²½ìš° @ExceptionHandler(Exception.class) ë¡œ global exception ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ í•´ë„ ResponseEntityExceptionHandler ë‚´ì˜ @ExceptionHandler ê°€ ì •ì˜ ë˜ì–´ìˆìœ¼ë©´ ê·¸ê²ƒì„ ì‚¬ìš©í•˜ê²Œ ë˜ì–´ global exception ìœ¼ë¡œ ì¼ì›í™” í•˜ì—¬ response ë¥¼ ê´€ë¦¬ í•  ìˆ˜ ì—†ê²Œ ëœë‹¤. ì´ë¯¸ ì œê³µëœ í•¸ë“¤ëŸ¬ëŠ” ì•„ë˜ì™€ ê°™ìœ¼ë¯€ë¡œ, ì œê³µëœ í•¸ë“¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²½ìš° ResponseEntityExceptionHandler ë¥¼ ìƒì†í•˜ì§€ ì•ŠëŠ”ë‹¤. 12345678910111213141516171819202122/*** Provides handling for standard Spring MVC exceptions.* @param ex the target exception* @param request the current request*/@ExceptionHandler({ HttpRequestMethodNotSupportedException.class, HttpMediaTypeNotSupportedException.class, HttpMediaTypeNotAcceptableException.class, MissingPathVariableException.class, MissingServletRequestParameterException.class, ServletRequestBindingException.class, ConversionNotSupportedException.class, TypeMismatchException.class, HttpMessageNotReadableException.class, HttpMessageNotWritableException.class, MethodArgumentNotValidException.class, MissingServletRequestPartException.class, BindException.class, NoHandlerFoundException.class, AsyncRequestTimeoutException.class }) ExceptionHandlerExceptionResolver &gt; ResponseStatusExceptionResolver &gt; DefaultHandlerExceptionResolver &gt; SimpleMappingExceptionResolver ìˆœìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤. SimpleMappingExceptionResolver ì€ ê¸°ë³¸ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ì–´ ìˆì§€ ì•ŠìŒ. afterCompletion(HttpServletRequest, HttpServletResponse, Object, Exception) ë¥¼ ì‚¬ìš©í•˜ì—¬ Exception ì„ ì²˜ë¦¬ í•  ìˆ˜ ìˆìŒ HandlerExceptionResolver ì™€ ê°™ì´ ì‚¬ìš© í–ˆì„ ë•Œ ìœ ì˜ í•  ì ì€ ì´ë¯¸ ì²˜ë¦¬ ëœ Exception ì— ëŒ€í•´ì„œëŠ” Interceptor í•˜ì§€ ì•ŠëŠ”ì ì´ë‹¤.","link":"/2020/04/26/spring/"},{"title":"springboot_errorhandling","text":"indexTitle _https://www.baeldung.com/spring-boot-ehcache_ ìˆœì„œ ì„¤ëª…1 ì„¤ëª…2 123&lt;dependency&gt; &lt;groupId&gt;ì½”ë“œ&lt;/groupId&gt;&lt;/dependency&gt;","link":"/2020/04/26/springboot_errorhandling/"},{"title":"Spring Boot &amp; Liquibase","text":"Spring Boot &amp; Liquibasewas êµ¬ë™ ë˜ëŠ” ë©”ì´ë¸ ì‹¤í–‰(mvn liquibase:update) ì‹œì ì— sqlì´ ì‹¤í–‰ëœë‹¤._https://javadeveloperzone.com/spring-boot/spring-boot-liquibase-example_ pom.xml 1234567891011121314151617181920212223 &lt;dependencies&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.h2database&lt;/groupId&gt; &lt;artifactId&gt;h2&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.liquibase&lt;/groupId&gt; &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;/dependency&gt; &lt;/dependencies&gt; application.yml 12345678910111213141516171819logging: level: liquibase: debug spring: datasource: driver-class-name: org.h2.Driver password: sa url: jdbc:h2:mem:test; username: sa h2: console: enabled: true liquibase: change-log: classpath:liquibase.xml drop-first: false # default enabled: true # default liquibase script ìœ„ì¹˜ liquibase.xml 123456789101112&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ext=\"http://www.liquibase.org/xml/ns/dbchangelog-ext\" xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd\"&gt; &lt;include file=\"/db/user_create.xml\" /&gt; &lt;include file=\"/db/user_insert.xml\" /&gt; &lt;include file=\"/db/user_update.xml\" /&gt;&lt;/databaseChangeLog&gt; user_create.xml 1234567891011121314151617181920212223&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;databaseChangeLog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ext=\"http://www.liquibase.org/xml/ns/dbchangelog-ext\" xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\" xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd\"&gt; &lt;changeSet author=\"admin\" id=\"1\"&gt; &lt;createTable tableName=\"person\"&gt; &lt;column autoIncrement=\"true\" name=\"id\" type=\"INT\"&gt; &lt;constraints primaryKey=\"true\"/&gt; &lt;/column&gt; &lt;column name=\"name\" type=\"VARCHAR(255)\"&gt; &lt;constraints nullable=\"false\"/&gt; &lt;/column&gt; &lt;column name=\"address\" type=\"VARCHAR(255)\"/&gt; &lt;/createTable&gt; &lt;rollback&gt; &lt;dropTable tableName=\"person\"/&gt; &lt;/rollback&gt; &lt;/changeSet&gt;&lt;/databaseChangeLog&gt; user_insert.xml 12345678910111213141516&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;databaseChangeLog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ext=\"http://www.liquibase.org/xml/ns/dbchangelog-ext\" xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\" xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd\"&gt; &lt;changeSet author=\"admin\" id=\"2\"&gt; &lt;insert tableName=\"person\"&gt; &lt;column name=\"id\" valueNumeric=\"1\"/&gt; &lt;column name=\"name\" value=\"Tom\"/&gt; &lt;column name=\"address\" value=\"USA\"/&gt; &lt;/insert&gt; &lt;/changeSet&gt;&lt;/databaseChangeLog&gt; user_update.xml 123456789101112131415161718&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;databaseChangeLog xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ext=\"http://www.liquibase.org/xml/ns/dbchangelog-ext\" xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\" xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd\"&gt; &lt;changeSet author=\"admin\" id=\"3\"&gt; &lt;preConditions&gt; &lt;dbms type=\"h2\"/&gt; &lt;/preConditions&gt; &lt;update tableName=\"person\"&gt; &lt;column name=\"address\" value=\"India\"/&gt; &lt;where&gt;name = 'Tom'&lt;/where&gt; &lt;/update&gt; &lt;/changeSet&gt;&lt;/databaseChangeLog&gt; ì„œë²„ êµ¬ë™í›„ ê²°ê³¼ http://localhost:8080/h2-console","link":"/2020/04/26/springboot_liquidbase/"},{"title":"ë¯¸êµ­ì£¼ì‹ ì£¼ë¬¸í•˜ê¸°(ì˜ì›…ë¬¸)","text":"ê³„ì¢Œê°œì„¤ í‚¤ì›€ì¦ê¶Œê³„ì¢Œê°œì„¤ ì•±ì—ì„œ ê³„ì¢Œì‹ ì²­. ì‹ ì²­í›„ ë°”ë¡œ ë¬¸ìë¡œ ê³„ì¢Œë²ˆí˜¸ê°€ ë°œê¸‰ë˜ì§€ë§Œ ë³¸ì¸í™•ì¸ì€ ì•ˆëœìƒíƒœ. í•˜ë£¨ì •ë„ì— ë³¸ì¸í™•ì¸í›„ì— ë§¤ë§¤ê°€ëŠ¥. ì´ë²¤íŠ¸ ë¯¸êµ­ì£¼ì‹ 40ë‹¬ëŸ¬ ì´ë²¤íŠ¸. ì´ë²¤íŠ¸ ì‹ ì²­í•˜ë©´ ê³„ì •ë‹¹(ê³„ì¢Œë‹¹x) 40ë‹¬ëŸ¬ ë°›ì„ìˆ˜ ìˆìŒ. ì˜ì›…ë¬¸ê¸€ë¡œë²Œì—ì„œ ë©”ë‰´&gt;í™ˆ&gt;ë§¨ì•„ë˜ ì´ë²¤íŠ¸ ë°°ë„ˆì—ì„œ 40ë‹¬ëŸ¬ ì´ë²¤íŠ¸ ì‹ ì²­. í™˜ì „ ìˆ˜ìˆ˜ë£Œ ì´ë²¤íŠ¸. ì˜ì›…ë¬¸ê¸€ë¡œë²Œì—ì„œ ë©”ë‰´&gt;í™ˆ&gt;ë§¨ì•„ë˜ ì´ë²¤íŠ¸ ë°°ë„ˆì—ì„œ í•´ì™¸ì£¼ì‹ìˆ˜ìˆ˜ë£Œ 0.1% + í™˜ìœ¨ìš°ëŒ€ 95% ì´ë²¤íŠ¸ ì‹ ì²­ ì…ê¸ˆ ì…ê¸ˆì‹œ ë¹„ëŒ€ë©´ ê³„ì¢Œì˜ ê²½ìš° ì—°ê³„ì€í–‰ ì¡°íšŒê°€ ë¶ˆê°€í•¨. ì•„ë˜ ë°©ë²•ìœ¼ë¡œ ì…ê¸ˆê°€ëŠ¥. ê¸°ì¡´ í‚¤ì›€ê³„ì¢Œì—ì„œ ê¸€ë¡œë²Œ ê³„ì¢Œë¡œ ì…ê¸ˆ. 8 ìë¦¬ ì¦ê¶Œê³„ì¢Œë¡œ ì€í–‰ ì¸í„°ë„· ë±…í‚¹ìœ¼ë¡œ ë°”ë¡œ ì†¡ê¸ˆ. ë§¤ë§¤ ì…ê¸ˆí›„ ë°”ë¡œ ì›í™”ë¡œ ë§¤ë§¤ë¥¼ í•˜ë ¤í•˜ë©´ ì¦ê±°ê¸ˆì´ ë¶€ì¡±í•˜ë‹¤ê³  ë‚˜ì˜´. ì•„ë˜ ë°©ë²•ìœ¼ë¡œ ë§¤ë§¤ê°€ëŠ¥. ë‹¬ëŸ¬ë¡œ í™˜ì „í›„ ë§¤ë§¤. ì›í™”ë¡œ ë§¤ë§¤í•˜ë ¤ë©´, ì›í™”ì£¼ë¬¸ ì„œë¹„ìŠ¤ ì‹ ì²­í•„ìš”. ì˜ì›…ë¬¸ê¸€ë¡œë²Œì—ì„œ ë©”ë‰´&gt;ì›í™”ì£¼ë¬¸&gt;ì‹ ì²­/í•´ì§€ ì—ì„œ ì‹ ì²­ ì˜¤í›„ 10:30ë¶„ì— ë¯¸êµ­ì¥ì´ ì—´ë¦¬ë¯€ë¡œ ê·¸ì „ì—ëŠ” ì˜ˆì•½ì£¼ë¬¸ìœ¼ë¡œë¨. ì˜¤í›„ 7:30 ë¶„ë¶€í„°ëŠ” ë°”ë¡œ ì˜ˆì•½ ì£¼ë¬¸ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ì›í™”ë¡œ ì£¼ë¬¸í•˜ì—¬ë„ í™˜ìœ¨ì°¨ì´ ì—†ì´ ë°”ë¡œ ì£¼ë¬¸ ê°€ëŠ¥í•˜ì§€ë§Œ, ê·¸ì „ì— ì£¼ë¬¸ í•  ê²½ìš° í™˜ìœ¨ë³€ë™ìœ¼ë¡œ ì¸í•´ ì‹¤ì œ ì£¼ë¬¸ê°€ê²©ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ. í™˜ì „ ê°€ëŠ¥í•œ ì‹œê°„ ì˜ì—…ì¼ : 00:1016:50 , 17:0023:50 í† /ì¼/ê³µíœ´ì¼ : 00:10~23:50 ê°œì¥ íì¥ ì‹œê°„ ë‰´ìš•ì‹œê°„ìœ¼ë¡œ ì˜¤ì „ 9 : 30 ê°œì¥ - ì˜¤í›„ 4 : 00 íì¥ ì…ë‹ˆë‹¤ (í›„ì¥ 10ë¶„ê°„ ë™ì‹œí˜¸ê°€) í•œêµ­ì‹œê°„ìœ¼ë¡œëŠ” 4ì›”~10ì›” : ë°¤ 10 : 30 ê°œì¥ - ë‹¤ìŒë‚  ìƒˆë²½ 5 : 00 íì¥ (ë¯¸êµ­ì˜ ì¨ë¨¸íƒ€ì„ ì ìš©ê¸°) 11ì›”~3ì›” : ë°¤ 11 : 30 ê°œì¥ - ë‹¤ìŒë‚  ìƒˆë²½ 6 : 00 íì¥ ìš©ì–´ ê°€í™˜ìœ¨ : 17:00 ì´í›„ì— í™˜ì „í•  ì‹œ ì ìš©ë˜ëŠ” í™˜ìœ¨. ì˜ì—…ì¼ì¸ 17:00 ì§ì í™˜ìœ¨ì—ì„œ +- 5%ì •ë„ë¥¼ ì ìš©í•œ í™˜ìœ¨. ì¶”ê°€ëœ í™˜ìœ¨ì˜ ì°¨ì•¡ë¶„ì€ 16:35ì— ì¼ê´„ ì…ì¶œê¸ˆ.","link":"/2020/04/26/stock/"},{"title":"transaction","text":"Transactional Ref _https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/data-access.html_","link":"/2020/04/26/transactional/"},{"title":"ubuntu","text":"Ubuntu command ì´ê±°ì €ê±°docker ubuntu ì´ˆê¸° ì„¤ì¹˜ apt install -y net-tools vim curl apt íŒ¨í‚¤ì§€ ì„¤ì¹˜ apt install íŒ¨í‚¤ì§€ì´ë¦„ íŒ¨í‚¤ì§€ ì‚­ì œ apt remove íŒ¨í‚¤ì§€ì´ë¦„ íŒ¨í‚¤ì§€ì™€ ì„¤ì •íŒŒì¼ ì œê±° apt purge íŒ¨í‚¤ì§€ì´ë¦„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒ¨í‚¤ì§€ì œê±° apt autoremove íŒ¨í‚¤ì§€ ëª©ë¡ ê²€ìƒ‰ apt search í‚¤ì›Œë“œ íŒ¨í‚¤ì§€ ìƒì„¸ì •ë³´ apt show íŒ¨í‚¤ì§€ì´ë¦„ íŒ¨í‚¤ì§€ ëª©ë¡ apt list íŒ¨í‚¤ì§€ëª… [â€“installed|â€“-upgradable|â€“-all-versions] íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸ apt update íŒ¨í‚¤ì§€ ì—…ê·¸ë ˆì´ë“œ (apt list â€“upgradable ì„ ì—…ê·¸ë ˆì´ë“œ) apt upgrade service, systemctl, chkconfigip í™•ì¸hostname -iifconfig","link":"/2020/04/29/ubuntu/"},{"title":"MarkDown Template","text":"SubTitle SubTitle List Paragraph Table Links Code Image emphasys Blockquotes Inline code Task lists List unordered list unordered list unordered list unordered list unordered list ordered list ordered list ordered list ordered list ordered list Paragraph title1 â‹…â‹…â‹…You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but weâ€™ll use three here to also align the raw Markdown). Table table center align description name1 center right name2 center right LinksAdmin_Guide logging _https://docs.wildfly.org/12/Admin_Guide.html#Logging_ Code 1gem install asciidoctor 123public static void main(String[] args){ System.out.println(\"test!!!\");} Image emphasysYou can combine them Blockquotes win + ctrl + D : create virtual desktop Inline code&lt;addr&gt; element here instead. Horizontal Rule Task lists Finish my changes Push my commits to GitHub Open a pull request","link":"/2020/04/26/template/"},{"title":"vs code","text":"Visual Studio Cdoekeyboard-shortcuts-windows ShortcutExtension Common Shortcut quick command (@qc) : ctrl + 3 , ctrl + shift + p go to symbol : ctrl + o open file :ctrl + p open shortcut setting : @qc &amp; type â€œopen shortcutâ€ open default settings : @qc &amp; type â€œopen default settingsâ€ open settings ui : @qc &amp; type â€œopen settings uiâ€ view : ctrl + shift + E(explore) view : ctrl + shift + F(find), ctrl + h view : ctrl + shift + g(scm) view : ctrl + shift + d(debug) view : ctrl + shift + x(extension) Common Extension colonize : auto semicolon Comma Enter (alt + enter ë¡œ ë³€ê²½) eclipse keymap npm intellisense vetur Vue2 Snippets open browser vscode ì—ì„œ ë§ˆí¬ë‹¤ìš´ ì‘ì„±ì„ í¸í•˜ê²Œ extension Markdzhang.markdown-all-in-one ctrl + b : bold ctrl + i : italic ctrl + ] : add # ctrl + [ : remove # ctrl + shfit + F : formatter (selection) + ctrl + v : make link git bash ë¡œ í„°ë¯¸ë„ ì„¤ì • git bash ì„¤ì¹˜ bash profile ë³€ê²½ (ë§í¬) open settings : ctrl + , terminal.integrated.shell.windows search Edit in settings.json 123456789101112{ \"terminal.integrated.shell.windows\": \"C:\\\\Program Files\\\\Git\\\\bin\\\\bash.exe\", \"git.autofetch\": true, \"git.enableSmartCommit\": true, \"git.confirmSync\": false, \"window.zoomLevel\": 0, \"diffEditor.ignoreTrimWhitespace\": true, \"terminal.integrated.shellArgs.windows\": [ \"--login\", \"-i\" ],}","link":"/2020/04/26/vscode/"},{"title":"vue","text":"indexVue","link":"/2020/04/26/vue/"},{"title":"window","text":"lonovo fn + shift + esc or ctrl + shift + esc : hotkey lock window 10 win + ctrl + D : create virtual desktop win + ctrl + f4 : delete virtual desktop win + ctrl + arrow : move virtual desktop win + s : search win + x : admin menu win + k : search wireless device win + i : open control panel win + Shift + S : ì„ íƒí•œ ì˜ì—­ë§Œ ìº¡ì²˜ win + PrtScn : í™”ë©´ ì „ì²´ ìº¡ì²˜ + ìë™ ì €ì¥ win + s + snip : ìº¡ì³ë„êµ¬ window 10 ì„¤ì¹˜ rufus-3.9p.exe ë¡œ win 10 remiz ë¶€íŒ…/ì„¤ì¹˜ ë””ìŠ¤í¬ ìƒì„±. MBR ë¡œ.. (ì˜¤í”¼ìŠ¤ í•œê¸€ ë”°ë¡œ ì„¤ì¹˜í•˜ê¸° ê·€ì°®ì•„ì„œ.. 2016 í†µí•©ë²„ì „ì„ ê·¸ëŒ€ë¡œ ì“°ë ¤í•œë‹¤) ì„¤ì¹˜ì‹œ íŒŒí‹°ì…˜ GTP ë¡œ ì•ˆë§ì„ê²½ìš° íŒŒí‹°ì…˜ ì‚­ì œí›„ ì¬ìƒì„±í›„ ì„¤ì¹˜ ì˜¬ë“œ ë²„ì „ì´ë¼ ê¸°ë³¸ ë“œë¼ì´ë²„ ì•ˆì¡ì•„ì£¼ë¯€ë¡œ ë¬´ì„ ë“œë¼ì´ë²„ë„ ì„¤ì¹˜ì•ˆë¨.. ë‹¤í–‰íˆ ì´ë”ë„· ë“œë¼ì´ë²„ëŠ” ì¡ì•„ì£¼ë„¤. ëœì„ ìœ¼ë¡œ ì—°ê²°. ìœˆë„ìš° ì—…ë°ì´íŠ¸ ì‹¤íŒ¨ì‹œ, ì—ëŸ¬ì½”ë“œë¡œ ê²€ìƒ‰í•˜ì—¬ ìµœì‹  ì—…ë°ì´íŠ¸ installer ë¥¼ ì„¤ì¹˜í›„ ì—…ë°ì´íŠ¸ (https://www.microsoft.com/ko-kr/software-download/windows10 ìœˆë„ìš°ì—…ë°ì´íŠ¸ ì„¤ì¹˜í›„ ë‹¤ì‹œì‹œë„)","link":"/2020/04/26/window/"},{"title":"Spring Security Oauth2","text":"Spring Security Oauth2 Oauth2 ë€? slide _&lt;https://speakerdeck.com/aaronpk/securing-your-apis-with-oauth-2-dot-0?slide=16&gt;_ &lt;!-- ![](https://aichoora.github.io/images/springsecurity_oauth2/1.png) ![](https://aichoora.github.io/images/springsecurity_oauth2/2.png) ![](https://aichoora.github.io/images/springsecurity_oauth2/3.png) --&gt; ![](https://aichoora.github.io/images/springsecurity_oauth2/4.png) [![Video Label](https://img.youtube.com/vi/PfvSD6MmEmQ/0.jpg)](https://www.youtube.com/watch?v=PfvSD6MmEmQ) _&lt;https://www.oauth.com/playground/&gt;_ _&lt;https://www.oauth.com/oauth2-servers/access-tokens/&gt;_ spring oauth2 blog _https://coding-start.tistory.com/158_ OAuth 2 Developers Guide _https://projects.spring.io/spring-security-oauth/docs/oauth2.html_ spring security Ref _https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/_ Baeldung : Spring REST API + OAuth2 + Angular _https://www.baeldung.com/rest-api-spring-oauth2-angular_ Understanding OAuth2 _http://www.bubblecode.net/en/2016/01/22/understanding-oauth2/_ sample (client_credential)_https://docs.spring.io/spring-security-oauth2-boot/docs/current/reference/htmlsingle/_ pom ì„¤ì • @EnableAuthorizationServer ì¶”ê°€ client ID and secret pair test pom oauth2-autoconfiguration : ì™ ë§Œí•œ ìë™ì„¤ì • 123456789&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt; &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;&lt;/dependency&gt; @EnableAuthorizationServer main ì— @EnableAuthorizationServer ì¶”ê°€ 123456789@EnableAuthorizationServer@SpringBootApplicationpublic class Application { public static void main(String[] args) { SpringApplication.run(Application.class, args); }} client id , secret ì§€ì • ì•ˆí•˜ë©´ ê¸°ë™ ì½˜ì†”ì— ì„ì˜ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤. 12345security:oauth2: client: client-id: first-client client-secret: noonewilleverguess test curl client1:password@localhost:8080/oauth/token -dgrant_type=client_credentials -dscope=any 12345[C:\\~]$ curl client1:password@localhost:8080/oauth/token -dgrant_type=client_credentials -dscope=any% Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 148 0 109 100 39 109 39 0:00:01 --:--:-- 0:00:01 394{\"access_token\":\"98b33f98-a478-41bd-b291-acabab5544a0\",\"token_type\":\"bearer\",\"expires_in\":2999,\"scope\":\"any\"} sample (client_credential) + db pom ì„¤ì • db config ì„¤ì • sql DataSourceInitializer AuthorizationServer ì„¤ì • test pom h2 , jdbc ì˜ì¡´ì„±ì„ ì¶”ê°€í•œë‹¤. 123456789&lt;dependency&gt; &lt;groupId&gt;com.h2database&lt;/groupId&gt; &lt;artifactId&gt;h2&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;/dependency&gt; db config ì„¤ì • sa/sa ê³„ì •ìœ¼ë¡œ ì—°ê²°ì„¤ì •í•˜ê³  console enable í•œë‹¤. 12345678910spring: datasource: driver-class-name: org.h2.Driver password: sa url: jdbc:h2:mem:test; username: sa h2: console: enabled: true sql _https://www.baeldung.com/rest-api-spring-oauth2-angular_ client_credentials, authorization_code type ìœ¼ë¡œ 2ê°œ client ìƒì„± bcrypt password ë¡œ secret ìƒì„±(PasswordEncoderFactories.createDelegatingPasswordEncoder().encode(&quot;password&quot;)) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293drop table if exists oauth_client_details;create table oauth_client_details (client_id VARCHAR(255) PRIMARY KEY,resource_ids VARCHAR(255),client_secret VARCHAR(255),scope VARCHAR(255),authorized_grant_types VARCHAR(255),web_server_redirect_uri VARCHAR(255),authorities VARCHAR(255),access_token_validity INTEGER,refresh_token_validity INTEGER,additional_information VARCHAR(4096),autoapprove VARCHAR(255));-- client_credentialsINSERT INTO oauth_client_details (client_id, resource_ids, client_secret, scope, authorized_grant_types, web_server_redirect_uri, authorities, access_token_validity, refresh_token_validity, additional_information, autoapprove)VALUES ('client1', null, '{bcrypt}$2a$10$icO7AZq0uSKNNAlcnejKWeKJFSjdPC8xMrLAOFTRZ0pBxy/4PiCK2', 'any', 'client_credentials', null, null, 3000, -1, null, 'false');-- authorization_code INSERT INTO oauth_client_details (client_id, resource_ids, client_secret, scope, authorized_grant_types, web_server_redirect_uri, authorities, access_token_validity, refresh_token_validity, additional_information, autoapprove)VALUES ('client2', null, '{bcrypt}$2a$10$icO7AZq0uSKNNAlcnejKWeKJFSjdPC8xMrLAOFTRZ0pBxy/4PiCK2', 'read_profile,read_posts', 'authorization_code,refresh_token', 'http://localhost:9000/callback', null, 3000, -1, null, 'false');drop table if exists oauth_client_token;create table oauth_client_token (token_id VARCHAR(255),token VARCHAR(256),authentication_id VARCHAR(255) PRIMARY KEY,user_name VARCHAR(255),client_id VARCHAR(255));drop table if exists oauth_access_token;create table oauth_access_token (token_id VARCHAR(255),token VARCHAR(256),authentication_id VARCHAR(255) PRIMARY KEY,user_name VARCHAR(255),client_id VARCHAR(255),authentication VARCHAR(256),refresh_token VARCHAR(255));drop table if exists oauth_refresh_token;create table oauth_refresh_token (token_id VARCHAR(255),token VARCHAR(256),authentication VARCHAR(256));drop table if exists oauth_code;create table oauth_code (code VARCHAR(255), authentication VARCHAR(256));drop table if exists oauth_approvals;create table oauth_approvals ( userId VARCHAR(255), clientId VARCHAR(255), scope VARCHAR(255), status VARCHAR(10), expiresAt TIMESTAMP, lastModifiedAt TIMESTAMP);drop table if exists ClientDetails;create table ClientDetails (appId VARCHAR(255) PRIMARY KEY,resourceIds VARCHAR(255),appSecret VARCHAR(255),scope VARCHAR(255),grantTypes VARCHAR(255),redirectUrl VARCHAR(255),authorities VARCHAR(255),access_token_validity INTEGER,refresh_token_validity INTEGER,additionalInformation VARCHAR(4096),autoApproveScopes VARCHAR(255)); DataSourceInitializer ë°ì´í„° ë¡œë“œ 12345678910111213141516171819@Configurationpublic class DatasourceInitializer { @Value(\"classpath:db/oauth2.sql\") private Resource schemaScript; @Bean public DataSourceInitializer dataSourceInitializer(DataSource dataSource) { DataSourceInitializer initializer = new DataSourceInitializer(); initializer.setDataSource(dataSource); initializer.setDatabasePopulator(databasePopulator()); return initializer; } private DatabasePopulator databasePopulator() { ResourceDatabasePopulator populator = new ResourceDatabasePopulator(); populator.addScript(schemaScript); return populator; }} ì„œë²„ê¸°ë™í›„ http://localhost:8080/h2-console ì—ì„œ ë°ì´í„° ë¡œë“œ í™•ì¸. AuthorizationServer ì„¤ì • ClientDetailsServiceConfigurer ì„¤ì •í•˜ë©´ application.yml ì„¤ì •ì€ ë¬´ì‹œëœë‹¤. db ë¥¼ ì‚¬ìš©í•˜ë„ë¡í•˜ê³  client secret ì— ì‚¬ìš©ë˜ëŠ” PasswordEncoder ëŠ” ê¸°ë³¸ bcrypt ë¡œ ì„¤ì • 1234567891011@Configurationpublic class AuthorizationServer extends AuthorizationServerConfigurerAdapter { @Autowired DataSource dataSource; public void configure(ClientDetailsServiceConfigurer clients) throws Exception { clients .jdbc(this.dataSource) .passwordEncoder(PasswordEncoderFactories.createDelegatingPasswordEncoder()); }} test 12345[C:\\~]$ curl client1:password@localhost:8080/oauth/token -dgrant_type=client_credentials -dscope=any% Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 148 0 109 100 39 109 39 0:00:01 --:--:-- 0:00:01 394{\"access_token\":\"98b33f98-a478-41bd-b291-acabab5544a0\",\"token_type\":\"bearer\",\"expires_in\":2999,\"scope\":\"any\"} sample (authorization_code) End User(Resource Owner) ì„¤ì • redirect Uri ì„¤ì • test End User(Resource Owner) ì„¤ì • 12345678910111213@EnableWebSecuritypublic class WebSecurity extends WebSecurityConfigurerAdapter { @Bean @Override public UserDetailsService userDetailsService() { return new InMemoryUserDetailsManager( User.withDefaultPasswordEncoder() .username(\"user\") .password(\"password\") .roles(\"USER\") .build()); }} redirect Uri ì„¤ì • ìœ„ sql ì— client2 ë¶€ë¶„. test login page ì™€ approve í˜ì´ì§€ëŠ” authorization server ì—ì„œ ì œê³µí•œë‹¤. Flow : oauth/authorize (code ìš”ì²­) -&gt; ë¡œê·¸ì¸ -&gt; ê¶Œí•œìŠ¹ì¸ -&gt; redirect ë¸Œë¼ìš°ì € ìš”ì²­.http://localhost:8080/oauth/authorize?grant_type=authorization_code&amp;response_type=code&amp;client_id=client2&amp;state=1234 ë¡œê·¸ì¸ ê¶Œí•œìŠ¹ì¸ redirecturi (ë¦¬ì†ŒìŠ¤ì„œë²„ë¡œ code ì „ë‹¬ url)http://localhost:9000/callback?code=lcGAj8&amp;state=1234 accesstoken ë°œê¸‰ curl client2:password@localhost:8080/oauth/token -dcode=lcGAj8 -dgrant_type=authorization_code -dscope=read_profile -dredirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fcallback 12345[C:\\~]$ curl client2:password@localhost:8080/oauth/token -dcode=lcGAj8 -dgrant_type=authorization_code -dscope=read_profile -dredirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fcallback% Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 298 0 184 100 114 184 114 0:00:01 --:--:-- 0:00:01 2709{\"access_token\":\"a3dc423b-dbdc-467d-b87b-7f1b0d137a42\",\"token_type\":\"bearer\",\"refresh_token\":\"af2a7eb5-4bb0-4312-9154-8bb1f1874906\",\"expires_in\":2999,\"scope\":\"read_profile read_posts\"}","link":"/2020/04/26/springsecurity_oauth2/"}],"tags":[{"name":"documentation","slug":"documentation","link":"/tags/documentation/"},{"name":"blog","slug":"blog","link":"/tags/blog/"},{"name":"infra","slug":"infra","link":"/tags/infra/"},{"name":"plant","slug":"plant","link":"/tags/plant/"}],"categories":[{"name":"documentation","slug":"documentation","link":"/categories/documentation/"},{"name":"webdev","slug":"webdev","link":"/categories/webdev/"},{"name":"troubleshooting","slug":"troubleshooting","link":"/categories/troubleshooting/"},{"name":"deploy","slug":"deploy","link":"/categories/deploy/"},{"name":"cli","slug":"cli","link":"/categories/cli/"},{"name":"team","slug":"team","link":"/categories/team/"},{"name":"blog","slug":"blog","link":"/categories/blog/"},{"name":"ide","slug":"ide","link":"/categories/ide/"},{"name":"security","slug":"security","link":"/categories/security/"},{"name":"logging","slug":"logging","link":"/categories/logging/"},{"name":"pm","slug":"pm","link":"/categories/pm/"},{"name":"plant","slug":"plant","link":"/categories/plant/"},{"name":"database","slug":"database","link":"/categories/database/"},{"name":"stock","slug":"stock","link":"/categories/stock/"},{"name":"os","slug":"os","link":"/categories/os/"}]}
<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>JJ&#039;s blog</title><meta property="og:type" content="blog"><meta property="og:title" content="JJ&#039;s blog"><meta property="og:url" content="https://aichoora.github.io/"><meta property="og:site_name" content="JJ&#039;s blog"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://aichoora.github.io/img/og_image.png"><meta property="article:author" content="aichoora"><meta property="article:tag" content="programming"><meta property="article:tag" content=" java"><meta property="article:tag" content=" spring"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://aichoora.github.io"},"headline":"JJ's blog","image":["https://aichoora.github.io/img/og_image.png"],"author":{"@type":"Person","name":"aichoora"},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="JJ&#039;s blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.923Z" title="2020-04-26T07:57:22.923Z">2020-04-26</time><span class="level-item"><a class="link-muted" href="/categories/os/">os</a></span><span class="level-item">2분 읽기 (대략 255 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/window/">window</a></h1><div class="content"><h4 id="lonovo"><a href="#lonovo" class="headerlink" title="lonovo"></a>lonovo</h4><blockquote>
<p><code>fn + shift + esc or ctrl + shift + esc</code> : <em>hotkey lock</em></p>
</blockquote>
<h4 id="window-10"><a href="#window-10" class="headerlink" title="window 10"></a>window 10</h4><blockquote>
<p><code>win + ctrl + D</code> : <em>create virtual desktop</em></p>
</blockquote>
<blockquote>
<p><code>win + ctrl + f4</code> : <em>delete virtual desktop</em></p>
</blockquote>
<blockquote>
<p><code>win + ctrl + arrow</code> : <em>move virtual desktop</em></p>
</blockquote>
<blockquote>
<p><code>win + s</code> : <em>search</em></p>
</blockquote>
<blockquote>
<p><code>win + x</code> : <em>admin menu</em></p>
</blockquote>
<blockquote>
<p><code>win + k</code> : <em>search wireless device</em></p>
</blockquote>
<blockquote>
<p><code>win + i</code> : <em>open control panel</em></p>
</blockquote>
<blockquote>
<p><code>win + Shift + S</code> : <em>선택한 영역만 캡처</em></p>
</blockquote>
<blockquote>
<p><code>win + PrtScn</code> : <em>화면 전체 캡처 + 자동 저장</em></p>
</blockquote>
<blockquote>
<p><code>win + s + snip</code> : <em>캡쳐도구</em></p>
</blockquote>
<h4 id="window-10-설치"><a href="#window-10-설치" class="headerlink" title="window 10 설치"></a>window 10 설치</h4><ul>
<li>rufus-3.9p.exe 로 win 10 remiz 부팅/설치 디스크 생성. MBR 로..<br> <em>(오피스 한글 따로 설치하기 귀찮아서.. 2016 통합버전을 그대로 쓰려한다)</em></li>
<li>설치시 파티션 GTP 로 안맞을경우 파티션 삭제후 재생성후 설치</li>
<li>올드 버전이라 기본 드라이버 안잡아주므로 무선드라이버도 설치안됨.. 다행히 이더넷 드라이버는 잡아주네. 랜선으로 연결.</li>
<li>윈도우 업데이트 실패시, 에러코드로 검색하여 최신 업데이트 installer 를 설치후 업데이트<ul>
<li>(<a href="https://www.microsoft.com/ko-kr/software-download/windows10">https://www.microsoft.com/ko-kr/software-download/windows10</a> 윈도우업데이트 설치후 다시시도)</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.920Z" title="2020-04-26T07:57:22.920Z">2020-04-26</time><span class="level-item">몇 초 읽기 (대략 3 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/vue/">vue</a></h1><div class="content"><h4 id="index"><a href="#index" class="headerlink" title="index"></a><a href="index">index</a></h4><h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><hr>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.917Z" title="2020-04-26T07:57:22.917Z">2020-04-26</time><span class="level-item"><a class="link-muted" href="/categories/ide/">ide</a></span><span class="level-item">2분 읽기 (대략 253 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/vscode/">vs code</a></h1><div class="content"><h1 id="Visual-Studio-Cdoe"><a href="#Visual-Studio-Cdoe" class="headerlink" title="Visual Studio Cdoe"></a>Visual Studio Cdoe</h1><p><em><a href="https://code.visualstudio.com/shortcuts/keyboard-shortcuts-windows.pdf">keyboard-shortcuts-windows</a></em><br><em><img src="https://www.devacron.com/wp-content/uploads/2017/10/Visual_Studio_Code_Keyboard_Shortcuts_Windows.png" alt="keyboard-shortcuts-windows"></em></p>
<p><a href="#Shortcut">Shortcut</a><br><a href="#Extension">Extension</a></p>
<h2 id="Common-Shortcut"><a href="#Common-Shortcut" class="headerlink" title="Common Shortcut"></a>Common Shortcut</h2><ul>
<li>quick command (@qc) : ctrl + 3 , ctrl + shift + p</li>
<li>go to symbol : ctrl + o</li>
<li>open file :ctrl + p</li>
<li>open shortcut setting : @qc &amp; type “open shortcut”</li>
<li>open default settings : @qc &amp; type “open default settings”</li>
<li>open settings ui : @qc &amp; type “open settings ui”</li>
<li>view : ctrl + shift + E(explore)</li>
<li>view : ctrl + shift + F(find), ctrl + h</li>
<li>view : ctrl + shift + g(scm)</li>
<li>view : ctrl + shift + d(debug)</li>
<li>view : ctrl + shift + x(extension)</li>
</ul>
<h2 id="Common-Extension"><a href="#Common-Extension" class="headerlink" title="Common Extension"></a>Common Extension</h2><ul>
<li>colonize : auto semicolon</li>
<li>Comma Enter (alt + enter 로 변경)</li>
<li>eclipse keymap</li>
<li>npm intellisense</li>
<li>vetur</li>
<li>Vue2 Snippets</li>
<li>open browser</li>
</ul>
<h2 id="vscode-에서-마크다운-작성을-편하게"><a href="#vscode-에서-마크다운-작성을-편하게" class="headerlink" title="vscode 에서 마크다운 작성을 편하게"></a>vscode 에서 마크다운 작성을 편하게</h2><ul>
<li>extension<ul>
<li>Markdzhang.markdown-all-in-one<ul>
<li>ctrl + b : bold</li>
<li>ctrl + i : italic</li>
<li>ctrl + ] : add #</li>
<li>ctrl + [ : remove #</li>
<li>ctrl + shfit + F : formatter</li>
<li>(selection) + ctrl + v : make link</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="git-bash-로-터미널-설정"><a href="#git-bash-로-터미널-설정" class="headerlink" title="git bash 로 터미널 설정"></a>git bash 로 터미널 설정</h2><ol>
<li>git bash 설치</li>
<li>bash profile 변경 (<a href="https://medium.com/@violetboralee/windows-%EC%82%AC%EC%9A%A9%EC%9E%90%EB%A5%BC-%EC%9C%84%ED%95%9C-git-bash-%EC%84%A4%EC%A0%95-ac50acb34c46">링크</a>)</li>
<li>open settings : ctrl + , </li>
<li><code>terminal.integrated.shell.windows</code> search</li>
<li>Edit in settings.json  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"terminal.integrated.shell.windows"</span>: <span class="string">"C:\\Program Files\\Git\\bin\\bash.exe"</span>,</span><br><span class="line">    <span class="string">"git.autofetch"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"git.enableSmartCommit"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"git.confirmSync"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="string">"window.zoomLevel"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">"diffEditor.ignoreTrimWhitespace"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"terminal.integrated.shellArgs.windows"</span>: [</span><br><span class="line">        <span class="string">"--login"</span>,</span><br><span class="line">        <span class="string">"-i"</span></span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.914Z" title="2020-04-26T07:57:22.914Z">2020-04-26</time><span class="level-item"><a class="link-muted" href="/categories/database/">database</a></span><span class="level-item">몇 초 읽기 (대략 2 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/transactional/">transaction</a></h1><div class="content"><h1 id="Transactional"><a href="#Transactional" class="headerlink" title="Transactional"></a>Transactional</h1><hr>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><p>   _<a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/data-access.html">https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/data-access.html</a>_</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.911Z" title="2020-04-26T07:57:22.911Z">2020-04-26</time><span class="level-item"><a class="link-muted" href="/categories/blog/">blog</a></span><span class="level-item">1분 읽기 (대략 169 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/template/">MarkDown Template</a></h1><div class="content"><h2 id="SubTitle"><a href="#SubTitle" class="headerlink" title="SubTitle"></a>SubTitle</h2><ul>
<li><a href="#subtitle">SubTitle</a></li>
<li><a href="#List">List</a></li>
<li><a href="#Paragraph">Paragraph</a></li>
<li><a href="#Table">Table</a></li>
<li><a href="#Links">Links</a></li>
<li><a href="#Code">Code</a></li>
<li><a href="#Image">Image</a></li>
<li><a href="#emphasys">emphasys</a></li>
<li><a href="#Blockquotes">Blockquotes</a></li>
<li><a href="#Inline_code">Inline code</a></li>
<li><a href="#Task_lists">Task lists</a></li>
</ul>
<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><ul>
<li>unordered list<ul>
<li>unordered list</li>
<li>unordered list</li>
</ul>
</li>
<li>unordered list</li>
<li>unordered list</li>
</ul>
<ol>
<li>ordered list<ol>
<li>ordered list</li>
<li>ordered list</li>
</ol>
</li>
<li>ordered list</li>
<li>ordered list</li>
</ol>
<h2 id="Paragraph"><a href="#Paragraph" class="headerlink" title="Paragraph"></a>Paragraph</h2><ul>
<li><p>title1</p>
<p> ⋅⋅⋅You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we’ll use three here to also align the raw Markdown).</p>
</li>
</ul>
<h2 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h2><table>
<thead>
<tr>
<th>table</th>
<th align="center">center align</th>
<th align="right">description</th>
</tr>
</thead>
<tbody><tr>
<td>name1</td>
<td align="center">center</td>
<td align="right">right</td>
</tr>
<tr>
<td>name2</td>
<td align="center">center</td>
<td align="right">right</td>
</tr>
</tbody></table>
<h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><p><em><a href="https://docs.wildfly.org/12/Admin_Guide.html#Logging">Admin_Guide logging</a></em></p>
<p>_<a href="https://docs.wildfly.org/12/Admin_Guide.html#Logging">https://docs.wildfly.org/12/Admin_Guide.html#Logging</a>_</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gem install asciidoctor</span><br></pre></td></tr></table></figure>


  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">   System.out.println(<span class="string">"test!!!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h2><blockquote>
<p><img src="https://aichoora.github.io/images/aws/cloud9.png" alt="cloud9">    </p>
</blockquote>
<h2 id="emphasys"><a href="#emphasys" class="headerlink" title="emphasys"></a>emphasys</h2><p><em>You <strong>can</strong> <del>combine</del> them</em></p>
<h2 id="Blockquotes"><a href="#Blockquotes" class="headerlink" title="Blockquotes"></a>Blockquotes</h2><blockquote>
<p><code>win + ctrl + D</code> : <em>create virtual desktop</em></p>
</blockquote>
<h2 id="Inline-code"><a href="#Inline-code" class="headerlink" title="Inline code"></a>Inline code</h2><p><code>&lt;addr&gt;</code> element here instead.</p>
<h2 id="Horizontal-Rule"><a href="#Horizontal-Rule" class="headerlink" title="Horizontal Rule"></a>Horizontal Rule</h2><hr>
<h2 id="Task-lists"><a href="#Task-lists" class="headerlink" title="Task lists"></a>Task lists</h2><ul>
<li><input checked="" disabled="" type="checkbox"> Finish my changes</li>
<li><input disabled="" type="checkbox"> Push my commits to GitHub</li>
<li><input disabled="" type="checkbox"> Open a pull request</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.905Z" title="2020-04-26T07:57:22.905Z">2020-04-26</time><span class="level-item"><a class="link-muted" href="/categories/stock/">stock</a></span><span class="level-item">4분 읽기 (대략 554 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/stock/">미국주식 주문하기(영웅문)</a></h1><div class="content"><h3 id="계좌개설"><a href="#계좌개설" class="headerlink" title="계좌개설"></a>계좌개설</h3><ul>
<li>키움증권계좌개설 앱에서 계좌신청. 신청후 바로 문자로 계좌번호가 발급되지만 본인확인은 안된상태.</li>
<li>하루정도에 본인확인후에 매매가능.</li>
</ul>
<h3 id="이벤트"><a href="#이벤트" class="headerlink" title="이벤트"></a>이벤트</h3><ul>
<li>미국주식 40달러 이벤트. 이벤트 신청하면 계정당(계좌당x) 40달러 받을수 있음. 영웅문글로벌에서 메뉴&gt;홈&gt;맨아래 이벤트 배너에서 40달러 이벤트 신청.</li>
<li>환전 수수료 이벤트. 영웅문글로벌에서 메뉴&gt;홈&gt;맨아래 이벤트 배너에서 해외주식수수료 0.1% + 환율우대 95% 이벤트 신청</li>
<li><h3 id="입금"><a href="#입금" class="headerlink" title="입금"></a>입금</h3><ul>
<li>입금시 비대면 계좌의 경우 연계은행 조회가 불가함. 아래 방법으로 입금가능.</li>
</ul>
</li>
<li>기존 키움계좌에서 글로벌 계좌로 입금.</li>
<li>8 자리 증권계좌로 은행 인터넷 뱅킹으로 바로 송금.</li>
</ul>
<h3 id="매매"><a href="#매매" class="headerlink" title="매매"></a>매매</h3><ul>
<li>입금후 바로 원화로 매매를 하려하면 증거금이 부족하다고 나옴. 아래 방법으로 매매가능.<ul>
<li>달러로 환전후 매매.</li>
<li>원화로 매매하려면, 원화주문 서비스 신청필요. 영웅문글로벌에서 메뉴&gt;원화주문&gt;신청/해지 에서 신청</li>
<li><blockquote>
<p><em>오후 10:30분에 미국장이 열리므로 그전에는 예약주문으로됨. 오후 7:30 분부터는 바로 예약 주문이 가능하므로 원화로 주문하여도 환율차이 없이 바로 주문 가능하지만, 그전에 주문 할 경우 환율변동으로 인해 실제 주문가격과 다를 수 있음.</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="환전-가능한-시간"><a href="#환전-가능한-시간" class="headerlink" title="환전 가능한 시간"></a>환전 가능한 시간</h3><ul>
<li>영업일 : 00:10<del>16:50 , 17:00</del>23:50</li>
<li>토/일/공휴일 : 00:10~23:50 </li>
</ul>
<h3 id="개장-폐장-시간"><a href="#개장-폐장-시간" class="headerlink" title="개장 폐장 시간"></a>개장 폐장 시간</h3><ul>
<li>뉴욕시간으로<ul>
<li>오전 9 : 30 개장 - 오후 4 : 00 폐장 입니다 (후장 10분간 동시호가)</li>
</ul>
</li>
<li>한국시간으로는<ul>
<li>4월~10월 : 밤 10 : 30 개장 - 다음날 새벽 5 : 00 폐장 (미국의 써머타임 적용기)</li>
<li>11월~3월 : 밤 11 : 30 개장 - 다음날 새벽 6 : 00 폐장</li>
</ul>
</li>
</ul>
<h3 id="용어"><a href="#용어" class="headerlink" title="용어"></a>용어</h3><ul>
<li>가환율 :  17:00 이후에 환전할 시 적용되는 환율.  영업일인 17:00 직적환율에서 +- 5%정도를 적용한 환율. 추가된 환율의 차액분은 16:35에 일괄 입출금.</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.893Z" title="2020-04-26T07:57:22.893Z">2020-04-26</time><span class="level-item"><a class="link-muted" href="/categories/security/">security</a></span><span class="level-item">7분 읽기 (대략 1073 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/springsecurity_oauth2/">Spring Security Oauth2 </a></h1><div class="content"><h1 id="Spring-Security-Oauth2"><a href="#Spring-Security-Oauth2" class="headerlink" title="Spring Security Oauth2"></a>Spring Security Oauth2</h1><ol>
<li><h4 id="Oauth2-란"><a href="#Oauth2-란" class="headerlink" title="Oauth2 란?"></a>Oauth2 란?</h4></li>
</ol>
<pre><code>slide _&lt;https://speakerdeck.com/aaronpk/securing-your-apis-with-oauth-2-dot-0?slide=16&gt;_
&lt;!-- ![](https://aichoora.github.io/images/springsecurity_oauth2/1.png)
![](https://aichoora.github.io/images/springsecurity_oauth2/2.png)
![](https://aichoora.github.io/images/springsecurity_oauth2/3.png) --&gt;
![](https://aichoora.github.io/images/springsecurity_oauth2/4.png)

[![Video Label](https://img.youtube.com/vi/PfvSD6MmEmQ/0.jpg)](https://www.youtube.com/watch?v=PfvSD6MmEmQ)

_&lt;https://www.oauth.com/playground/&gt;_  
_&lt;https://www.oauth.com/oauth2-servers/access-tokens/&gt;_</code></pre><ol start="2">
<li><h4 id="spring-oauth2-blog"><a href="#spring-oauth2-blog" class="headerlink" title="spring oauth2 blog"></a>spring oauth2 blog</h4><p> _<a href="https://coding-start.tistory.com/158">https://coding-start.tistory.com/158</a>_</p>
</li>
<li><h4 id="OAuth-2-Developers-Guide"><a href="#OAuth-2-Developers-Guide" class="headerlink" title="OAuth 2 Developers Guide"></a>OAuth 2 Developers Guide</h4><p> _<a href="https://projects.spring.io/spring-security-oauth/docs/oauth2.html">https://projects.spring.io/spring-security-oauth/docs/oauth2.html</a>_ </p>
</li>
<li><h4 id="spring-security-Ref"><a href="#spring-security-Ref" class="headerlink" title="spring security Ref"></a>spring security Ref</h4><p> _<a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/">https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/</a>_</p>
</li>
<li><h4 id="Baeldung-Spring-REST-API-OAuth2-Angular"><a href="#Baeldung-Spring-REST-API-OAuth2-Angular" class="headerlink" title="Baeldung : Spring REST API + OAuth2 + Angular"></a>Baeldung : Spring REST API + OAuth2 + Angular</h4><p> _<a href="https://www.baeldung.com/rest-api-spring-oauth2-angular">https://www.baeldung.com/rest-api-spring-oauth2-angular</a>_</p>
</li>
<li><h4 id="Understanding-OAuth2"><a href="#Understanding-OAuth2" class="headerlink" title="Understanding OAuth2"></a>Understanding OAuth2</h4><p> _<a href="http://www.bubblecode.net/en/2016/01/22/understanding-oauth2/">http://www.bubblecode.net/en/2016/01/22/understanding-oauth2/</a>_</p>
</li>
</ol>
<h1 id="sample-client-credential"><a href="#sample-client-credential" class="headerlink" title="sample (client_credential)"></a>sample (client_credential)</h1><p>_<a href="https://docs.spring.io/spring-security-oauth2-boot/docs/current/reference/htmlsingle/">https://docs.spring.io/spring-security-oauth2-boot/docs/current/reference/htmlsingle/</a>_</p>
<ol>
<li><em>pom 설정</em></li>
<li><em>@EnableAuthorizationServer 추가</em></li>
<li><em>client ID and secret pair</em></li>
<li><em>test</em></li>
</ol>
<hr>
<ol>
<li><h4 id="pom"><a href="#pom" class="headerlink" title="pom"></a>pom</h4><p> oauth2-autoconfiguration : 왠만한 자동설정  </p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.security.oauth.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-security-oauth2-autoconfigure<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="EnableAuthorizationServer"><a href="#EnableAuthorizationServer" class="headerlink" title="@EnableAuthorizationServer"></a>@EnableAuthorizationServer</h4><p> main 에 @EnableAuthorizationServer 추가</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableAuthorizationServer</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(Application<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><h4 id="client-id-secret"><a href="#client-id-secret" class="headerlink" title="client id , secret"></a>client id , secret</h4><p> 지정 안하면 기동 콘솔에 임의로 만들어준다. </p>
 <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">security:</span></span><br><span class="line"><span class="attr">oauth2:</span></span><br><span class="line">    <span class="attr">client:</span></span><br><span class="line">    <span class="attr">client-id:</span> <span class="string">first-client</span></span><br><span class="line">    <span class="attr">client-secret:</span> <span class="string">noonewilleverguess</span></span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="test"><a href="#test" class="headerlink" title="test"></a>test</h4><p> curl client1:password@localhost:8080/oauth/token -dgrant_type=client_credentials -dscope=any</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[C:\~]$ curl client1:password@localhost:8080/oauth/token -dgrant_type=client_credentials -dscope=any</span><br><span class="line"><span class="meta">%</span><span class="bash"> Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span></span><br><span class="line">                                Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100   148    0   109  100    39    109     39  0:00:01 --:--:--  0:00:01   394</span><br><span class="line">&#123;"access_token":"98b33f98-a478-41bd-b291-acabab5544a0","token_type":"bearer","expires_in":2999,"scope":"any"&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="sample-client-credential-db"><a href="#sample-client-credential-db" class="headerlink" title="sample (client_credential) + db"></a>sample (client_credential) + db</h1><ol>
<li><em>pom 설정</em></li>
<li><em>db config 설정</em></li>
<li><em>sql</em></li>
<li><em>DataSourceInitializer</em></li>
<li><em>AuthorizationServer 설정</em></li>
<li><em>test</em></li>
</ol>
<hr>
<ol>
<li><h4 id="pom-1"><a href="#pom-1" class="headerlink" title="pom"></a>pom</h4><p> h2 , jdbc 의존성을 추가한다.</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.h2database<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><h4 id="db-config-설정"><a href="#db-config-설정" class="headerlink" title="db config 설정"></a>db config 설정</h4><p> sa/sa 계정으로 연결설정하고 console enable 한다.</p>
 <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">    <span class="attr">datasource:</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">org.h2.Driver</span></span><br><span class="line">        <span class="attr">password:</span> <span class="string">sa</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">jdbc:h2:mem:test;</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">sa</span></span><br><span class="line">            </span><br><span class="line">    <span class="attr">h2:</span></span><br><span class="line">        <span class="attr">console:</span></span><br><span class="line">            <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="sql"><a href="#sql" class="headerlink" title="sql"></a>sql</h4><p> _<a href="https://www.baeldung.com/rest-api-spring-oauth2-angular">https://www.baeldung.com/rest-api-spring-oauth2-angular</a>_<br> client_credentials, authorization_code type 으로 2개 client 생성<br> bcrypt password 로 secret 생성(<code>PasswordEncoderFactories.createDelegatingPasswordEncoder().encode(&quot;password&quot;)</code>)</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> oauth_client_details;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oauth_client_details (</span><br><span class="line">client_id <span class="built_in">VARCHAR</span>(<span class="number">255</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">resource_ids <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">client_secret <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line"><span class="keyword">scope</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">authorized_grant_types <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">web_server_redirect_uri <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">authorities <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">access_token_validity <span class="built_in">INTEGER</span>,</span><br><span class="line">refresh_token_validity <span class="built_in">INTEGER</span>,</span><br><span class="line">additional_information <span class="built_in">VARCHAR</span>(<span class="number">4096</span>),</span><br><span class="line">autoapprove <span class="built_in">VARCHAR</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- client_credentials</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> oauth_client_details</span><br><span class="line">    (client_id, resource_ids, client_secret, <span class="keyword">scope</span>, authorized_grant_types,</span><br><span class="line">    web_server_redirect_uri, authorities, access_token_validity, refresh_token_validity,</span><br><span class="line">    additional_information, autoapprove)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">    (<span class="string">'client1'</span>, <span class="literal">null</span>, <span class="string">'&#123;bcrypt&#125;$2a$10$icO7AZq0uSKNNAlcnejKWeKJFSjdPC8xMrLAOFTRZ0pBxy/4PiCK2'</span>,</span><br><span class="line">    <span class="string">'any'</span>, <span class="string">'client_credentials'</span>,</span><br><span class="line">    <span class="literal">null</span>,</span><br><span class="line">    <span class="literal">null</span>, <span class="number">3000</span>, <span class="number">-1</span>, <span class="literal">null</span>, <span class="string">'false'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- authorization_code  </span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> oauth_client_details</span><br><span class="line">    (client_id, resource_ids, client_secret, <span class="keyword">scope</span>, authorized_grant_types,</span><br><span class="line">    web_server_redirect_uri, authorities, access_token_validity, refresh_token_validity,</span><br><span class="line">    additional_information, autoapprove)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">    (<span class="string">'client2'</span>, <span class="literal">null</span>, <span class="string">'&#123;bcrypt&#125;$2a$10$icO7AZq0uSKNNAlcnejKWeKJFSjdPC8xMrLAOFTRZ0pBxy/4PiCK2'</span>,</span><br><span class="line">    <span class="string">'read_profile,read_posts'</span>, <span class="string">'authorization_code,refresh_token'</span>,</span><br><span class="line">    <span class="string">'http://localhost:9000/callback'</span>,</span><br><span class="line">    <span class="literal">null</span>, <span class="number">3000</span>, <span class="number">-1</span>, <span class="literal">null</span>, <span class="string">'false'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> oauth_client_token;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oauth_client_token (</span><br><span class="line">token_id <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">token <span class="built_in">VARCHAR</span>(<span class="number">256</span>),</span><br><span class="line">authentication_id <span class="built_in">VARCHAR</span>(<span class="number">255</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">user_name <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">client_id <span class="built_in">VARCHAR</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> oauth_access_token;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oauth_access_token (</span><br><span class="line">token_id <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">token <span class="built_in">VARCHAR</span>(<span class="number">256</span>),</span><br><span class="line">authentication_id <span class="built_in">VARCHAR</span>(<span class="number">255</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">user_name <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">client_id <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line"><span class="keyword">authentication</span> <span class="built_in">VARCHAR</span>(<span class="number">256</span>),</span><br><span class="line">refresh_token <span class="built_in">VARCHAR</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> oauth_refresh_token;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oauth_refresh_token (</span><br><span class="line">token_id <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">token <span class="built_in">VARCHAR</span>(<span class="number">256</span>),</span><br><span class="line"><span class="keyword">authentication</span> <span class="built_in">VARCHAR</span>(<span class="number">256</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> oauth_code;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oauth_code (</span><br><span class="line">code <span class="built_in">VARCHAR</span>(<span class="number">255</span>), <span class="keyword">authentication</span> <span class="built_in">VARCHAR</span>(<span class="number">256</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> oauth_approvals;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oauth_approvals (</span><br><span class="line">    userId <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    clientId <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">scope</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">status</span> <span class="built_in">VARCHAR</span>(<span class="number">10</span>),</span><br><span class="line">    expiresAt <span class="built_in">TIMESTAMP</span>,</span><br><span class="line">    lastModifiedAt <span class="built_in">TIMESTAMP</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> ClientDetails;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ClientDetails (</span><br><span class="line">appId <span class="built_in">VARCHAR</span>(<span class="number">255</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">resourceIds <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">appSecret <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line"><span class="keyword">scope</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">grantTypes <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">redirectUrl <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">authorities <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">access_token_validity <span class="built_in">INTEGER</span>,</span><br><span class="line">refresh_token_validity <span class="built_in">INTEGER</span>,</span><br><span class="line">additionalInformation <span class="built_in">VARCHAR</span>(<span class="number">4096</span>),</span><br><span class="line">autoApproveScopes <span class="built_in">VARCHAR</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="DataSourceInitializer-데이터-로드"><a href="#DataSourceInitializer-데이터-로드" class="headerlink" title="DataSourceInitializer 데이터 로드"></a>DataSourceInitializer 데이터 로드</h4> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatasourceInitializer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"classpath:db/oauth2.sql"</span>)</span><br><span class="line">    <span class="keyword">private</span> Resource schemaScript;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSourceInitializer <span class="title">dataSourceInitializer</span><span class="params">(DataSource dataSource)</span> </span>&#123;</span><br><span class="line">        DataSourceInitializer initializer = <span class="keyword">new</span> DataSourceInitializer();</span><br><span class="line">        initializer.setDataSource(dataSource);</span><br><span class="line">        initializer.setDatabasePopulator(databasePopulator());</span><br><span class="line">        <span class="keyword">return</span> initializer;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> DatabasePopulator <span class="title">databasePopulator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ResourceDatabasePopulator populator = <span class="keyword">new</span> ResourceDatabasePopulator();</span><br><span class="line">        populator.addScript(schemaScript);</span><br><span class="line">        <span class="keyword">return</span> populator;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 서버기동후 <a href="http://localhost:8080/h2-console">http://localhost:8080/h2-console</a> 에서 데이터 로드 확인.</p>
</li>
<li><h4 id="AuthorizationServer-설정"><a href="#AuthorizationServer-설정" class="headerlink" title="AuthorizationServer 설정"></a>AuthorizationServer 설정</h4><p> <code>ClientDetailsServiceConfigurer</code> 설정하면 application.yml 설정은 무시된다.<br> db 를 사용하도록하고 client secret 에 사용되는 PasswordEncoder 는 기본 bcrypt 로 설정</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AuthorizationServer</span> <span class="keyword">extends</span> <span class="title">AuthorizationServerConfigurerAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> DataSource dataSource;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(ClientDetailsServiceConfigurer clients)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        clients</span><br><span class="line">            .jdbc(<span class="keyword">this</span>.dataSource)</span><br><span class="line">            .passwordEncoder(PasswordEncoderFactories.createDelegatingPasswordEncoder());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><h4 id="test-1"><a href="#test-1" class="headerlink" title="test"></a>test</h4> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[C:\~]$ curl client1:password@localhost:8080/oauth/token -dgrant_type=client_credentials -dscope=any</span><br><span class="line"><span class="meta">%</span><span class="bash"> Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span></span><br><span class="line">                                Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100   148    0   109  100    39    109     39  0:00:01 --:--:--  0:00:01   394</span><br><span class="line">&#123;"access_token":"98b33f98-a478-41bd-b291-acabab5544a0","token_type":"bearer","expires_in":2999,"scope":"any"&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="sample-authorization-code"><a href="#sample-authorization-code" class="headerlink" title="sample (authorization_code)"></a>sample (authorization_code)</h1><p><img src="http://www.bubblecode.net/wp-content/uploads/2013/03/auth_code_flow.png" alt=""></p>
<ol>
<li><em>End User(Resource Owner) 설정</em></li>
<li><em>redirect Uri 설정</em></li>
<li><em>test</em></li>
</ol>
<hr>
<ol>
<li><h4 id="End-User-Resource-Owner-설정"><a href="#End-User-Resource-Owner-설정" class="headerlink" title="End User(Resource Owner) 설정"></a>End User(Resource Owner) 설정</h4> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSecurity</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserDetailsService <span class="title">userDetailsService</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> InMemoryUserDetailsManager(</span><br><span class="line">            User.withDefaultPasswordEncoder()</span><br><span class="line">                .username(<span class="string">"user"</span>)</span><br><span class="line">                .password(<span class="string">"password"</span>)</span><br><span class="line">                .roles(<span class="string">"USER"</span>)</span><br><span class="line">                .build());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><h4 id="redirect-Uri-설정"><a href="#redirect-Uri-설정" class="headerlink" title="redirect Uri 설정"></a>redirect Uri 설정</h4><p> 위 sql 에 client2 부분.</p>
</li>
<li><h4 id="test-2"><a href="#test-2" class="headerlink" title="test"></a>test</h4><p> login page 와 approve 페이지는 authorization server 에서 제공한다.  </p>
<ul>
<li>Flow : oauth/authorize (code 요청) -&gt; 로그인 -&gt; 권한승인 -&gt; redirect   </li>
</ul>
<ol>
<li><p>브라우저 요청.<br><a href="http://localhost:8080/oauth/authorize?grant_type=authorization_code&amp;response_type=code&amp;client_id=client2&amp;state=1234">http://localhost:8080/oauth/authorize?grant_type=authorization_code&amp;response_type=code&amp;client_id=client2&amp;state=1234</a></p>
</li>
<li><p>로그인<br><img src="https://aichoora.github.io/images/springsecurity_oauth2/5.png" alt=""></p>
</li>
<li><p>권한승인<br><img src="https://aichoora.github.io/images/springsecurity_oauth2/6.png" alt=""></p>
</li>
<li><p>redirecturi (리소스서버로 code 전달 url)<br><a href="http://localhost:9000/callback?code=lcGAj8&amp;state=1234">http://localhost:9000/callback?code=lcGAj8&amp;state=1234</a></p>
</li>
<li><p>accesstoken 발급<br> curl client2:password@localhost:8080/oauth/token -dcode=lcGAj8 -dgrant_type=authorization_code -dscope=read_profile -dredirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fcallback</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[C:\~]$ curl client2:password@localhost:8080/oauth/token -dcode=lcGAj8 -dgrant_type=authorization_code -dscope=read_profile -dredirect_uri=http%3A%2F%2Flocalhost%3A9000%2Fcallback</span><br><span class="line"><span class="meta">%</span><span class="bash"> Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span></span><br><span class="line">                                Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100   298    0   184  100   114    184    114  0:00:01 --:--:--  0:00:01  2709</span><br><span class="line">&#123;"access_token":"a3dc423b-dbdc-467d-b87b-7f1b0d137a42","token_type":"bearer","refresh_token":"af2a7eb5-4bb0-4312-9154-8bb1f1874906","expires_in":2999,"scope":"read_profile read_posts"&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.890Z" title="2020-04-26T07:57:22.890Z">2020-04-26</time><span class="level-item"><a class="link-muted" href="/categories/database/">database</a></span><span class="level-item">1분 읽기 (대략 163 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/springboot_liquidbase/">Spring Boot &amp; Liquibase</a></h1><div class="content"><h1 id="Spring-Boot-amp-Liquibase"><a href="#Spring-Boot-amp-Liquibase" class="headerlink" title="Spring Boot &amp; Liquibase"></a>Spring Boot &amp; Liquibase</h1><p>was 구동 또는 메이븐 실행(mvn liquibase:update) 시점에 sql이 실행된다.<br>_<a href="https://javadeveloperzone.com/spring-boot/spring-boot-liquibase-example">https://javadeveloperzone.com/spring-boot/spring-boot-liquibase-example</a>_</p>
<ol>
<li><h4 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h4> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">  	<span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.h2database<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.liquibase<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>liquibase-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="application-yml"><a href="#application-yml" class="headerlink" title="application.yml"></a>application.yml</h4> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line">    <span class="attr">level:</span></span><br><span class="line">        <span class="attr">liquibase:</span> <span class="string">debug</span></span><br><span class="line">        </span><br><span class="line">    <span class="attr">spring:</span></span><br><span class="line">    <span class="attr">datasource:</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">org.h2.Driver</span></span><br><span class="line">        <span class="attr">password:</span> <span class="string">sa</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">jdbc:h2:mem:test;</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">sa</span></span><br><span class="line">        </span><br><span class="line">    <span class="attr">h2:</span></span><br><span class="line">        <span class="attr">console:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">        </span><br><span class="line">    <span class="attr">liquibase:</span></span><br><span class="line">        <span class="attr">change-log:</span> <span class="string">classpath:liquibase.xml</span></span><br><span class="line">        <span class="attr">drop-first:</span> <span class="literal">false</span> <span class="comment"># default</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span> <span class="comment"># default</span></span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="liquibase-script"><a href="#liquibase-script" class="headerlink" title="liquibase script"></a>liquibase script</h4><ul>
<li><p>위치<br><img src="https://aichoora.github.io/images/springboot_liquibase/1.png" alt=""> </p>
</li>
<li><p><code>liquibase.xml</code></p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">databaseChangeLog</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:ext</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog-ext"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">"/db/user_create.xml"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">"/db/user_insert.xml"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">"/db/user_update.xml"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">databaseChangeLog</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>user_create.xml</code></p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">databaseChangeLog</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:ext</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog-ext"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">changeSet</span> <span class="attr">author</span>=<span class="string">"admin"</span> <span class="attr">id</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">createTable</span> <span class="attr">tableName</span>=<span class="string">"person"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">autoIncrement</span>=<span class="string">"true"</span> <span class="attr">name</span>=<span class="string">"id"</span> <span class="attr">type</span>=<span class="string">"INT"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">constraints</span> <span class="attr">primaryKey</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">type</span>=<span class="string">"VARCHAR(255)"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">constraints</span> <span class="attr">nullable</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">column</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">"address"</span> <span class="attr">type</span>=<span class="string">"VARCHAR(255)"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">createTable</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollback</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dropTable</span> <span class="attr">tableName</span>=<span class="string">"person"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollback</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">changeSet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">databaseChangeLog</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>user_insert.xml</code>  </p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">databaseChangeLog</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:ext</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog-ext"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">changeSet</span> <span class="attr">author</span>=<span class="string">"admin"</span> <span class="attr">id</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">insert</span> <span class="attr">tableName</span>=<span class="string">"person"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">"id"</span> <span class="attr">valueNumeric</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"Tom"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">"address"</span> <span class="attr">value</span>=<span class="string">"USA"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">changeSet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">databaseChangeLog</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>user_update.xml</code>  </p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">databaseChangeLog</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:ext</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog-ext"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">changeSet</span> <span class="attr">author</span>=<span class="string">"admin"</span> <span class="attr">id</span>=<span class="string">"3"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">preConditions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dbms</span> <span class="attr">type</span>=<span class="string">"h2"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">preConditions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">update</span> <span class="attr">tableName</span>=<span class="string">"person"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">column</span> <span class="attr">name</span>=<span class="string">"address"</span> <span class="attr">value</span>=<span class="string">"India"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">where</span>&gt;</span>name = 'Tom'<span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">changeSet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">databaseChangeLog</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><h4 id="서버-구동후-결과"><a href="#서버-구동후-결과" class="headerlink" title="서버 구동후 결과"></a>서버 구동후 결과</h4><p> <a href="http://localhost:8080/h2-console">http://localhost:8080/h2-console</a></p>
<p> <img src="https://aichoora.github.io/images/springboot_liquibase/2.png" alt=""> </p>
</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.887Z" title="2020-04-26T07:57:22.887Z">2020-04-26</time><span class="level-item">몇 초 읽기 (대략 12 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/springboot_errorhandling/">springboot_errorhandling</a></h1><div class="content"><h4 id="index"><a href="#index" class="headerlink" title="index"></a><a href="index">index</a></h4><h1 id="Title"><a href="#Title" class="headerlink" title="Title"></a>Title</h1><ul>
<li>_<a href="https://www.baeldung.com/spring-boot-ehcache">https://www.baeldung.com/spring-boot-ehcache</a>_</li>
</ul>
<ol>
<li><h4 id="순서"><a href="#순서" class="headerlink" title="순서"></a>순서</h4><p> 설명1<br> 설명2</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>코드<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
 <br/>








</li>
</ol>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T07:57:22.884Z" title="2020-04-26T07:57:22.884Z">2020-04-26</time><span class="level-item">3분 읽기 (대략 387 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/26/springRestService/">springRestService</a></h1><div class="content"><h4 id="index"><a href="#index" class="headerlink" title="index"></a><a href="index">index</a></h4><h1 id="간단한-rest-api-service-만들기"><a href="#간단한-rest-api-service-만들기" class="headerlink" title="간단한 rest api service 만들기"></a>간단한 rest api service 만들기</h1><hr>
<h2 id="Infra"><a href="#Infra" class="headerlink" title="Infra"></a>Infra</h2><ul>
<li>nginx</li>
<li>wildfly12</li>
<li>mysql 8.0.17 Community Server GPL </li>
</ul>
<h2 id="software-stack"><a href="#software-stack" class="headerlink" title="software stack"></a>software stack</h2><ul>
<li>openjdk 1.8</li>
<li>spring boot 2.2.1<ul>
<li>web</li>
<li>mybatis</li>
<li>mysql-connector</li>
<li>lombok</li>
<li>devtool</li>
<li>restdocs</li>
<li>actuator</li>
</ul>
</li>
<li>mybatis</li>
<li>ehcache</li>
<li>log4j (logback 제거. jboss config 파일로 바로 사용하기 위해)</li>
</ul>
<h2 id="deployment"><a href="#deployment" class="headerlink" title="deployment"></a>deployment</h2><ul>
<li>maven</li>
<li>git</li>
<li>jenkins</li>
<li>docker</li>
</ul>
<h2 id="documentation"><a href="#documentation" class="headerlink" title="documentation"></a>documentation</h2><ul>
<li>restdoc</li>
</ul>
<h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><ul>
<li>junit</li>
<li>swagger</li>
<li>postman</li>
<li>curl</li>
</ul>
<h2 id="security"><a href="#security" class="headerlink" title="security"></a>security</h2><ul>
<li>spring security</li>
</ul>
<h2 id="개발순서"><a href="#개발순서" class="headerlink" title="개발순서"></a>개발순서</h2><ol>
<li>jdk 설치</li>
<li>sts 설치</li>
<li>sts jboss 설치</li>
<li>spring boot starter 프로젝트 생성</li>
<li>properties 생성</li>
<li>logging (container,req,res,sql,exception)</li>
<li>mysql 설치 및 sakila sample db 설치</li>
<li>mysql 연동</li>
<li>interceptor</li>
<li>controller</li>
<li>exception</li>
<li>restdoc</li>
<li>caching</li>
<li>scheduler</li>
<li>unit test</li>
<li>documentation</li>
</ol>
<h2 id="OpenJDK"><a href="#OpenJDK" class="headerlink" title="OpenJDK"></a>OpenJDK</h2><p>   _<a href="https://github.com/ojdkbuild/ojdkbuild">https://github.com/ojdkbuild/ojdkbuild</a>_</p>
<h2 id="STS"><a href="#STS" class="headerlink" title="STS"></a>STS</h2><p>   _<a href="https://spring.io/tools">https://spring.io/tools</a>_</p>
<h2 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h2><p>   _<a href="https://www.baeldung.com/properties-with-spring">https://www.baeldung.com/properties-with-spring</a>_</p>
<p>   _<a href="https://www.baeldung.com/spring-yaml">https://www.baeldung.com/spring-yaml</a>_</p>
<p>   <em><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html">Common Application properties</a></em></p>
<h2 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h2><p>   <em><a href="https://github.com/aichoora/spring-boot-examples/tree/master/spring-boot-mybatis/spring-boot-mybatis-xml">Mybatis Sample</a></em></p>
<p>   <em><a href="http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/">Mybatis Spring Boot</a></em></p>
<p>   <em><a href="https://mybatis.org/generator/">Mybatis Generator</a></em></p>
<h2 id="log4jdbc"><a href="#log4jdbc" class="headerlink" title="log4jdbc"></a>log4jdbc</h2><ul>
<li>_<a href="https://log4jdbc.brunorozendo.com/">https://log4jdbc.brunorozendo.com/</a>_<ul>
<li>pom<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">      <span class="comment">&lt;!-- log4jdbc --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.bgee.log4jdbc-log4j2<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4jdbc-log4j2-jdbc4.1<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">```      </span><br><span class="line">- resources\log4jdbc.log4j2.properties</span><br><span class="line">```properties</span><br><span class="line">log4jdbc.spylogdelegator.name=net.sf.log4jdbc.log.slf4j.Slf4jSpyLogDelegator</span><br><span class="line">log4jdbc.dump.sql.maxlinelength=0</span><br></pre></td></tr></table></figure></li>
<li>application.yml (datasource)<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">datasource:</span></span><br><span class="line"><span class="attr">driver-class-name :</span> <span class="string">net.sf.log4jdbc.sql.jdbcapi.DriverSpy</span></span><br><span class="line"><span class="attr">url :</span> <span class="string">jdbc:log4jdbc:mysql://localhost:3306/sakila?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true</span></span><br></pre></td></tr></table></figure></li>
<li>application.yml (logging)<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line">   <span class="attr">level:</span></span><br><span class="line">   <span class="comment"># mybatis sql log off</span></span><br><span class="line">   <span class="attr">com.zaxxer :</span> <span class="string">off</span></span><br><span class="line">   <span class="attr">com.xxx.api.mapper :</span> <span class="string">off</span></span><br><span class="line">   <span class="attr">org.mybatis :</span> <span class="string">off</span></span><br><span class="line">   <span class="attr">org.springframework.jdbc.datasource :</span> <span class="string">off</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment"># log4jdbc</span></span><br><span class="line">   <span class="attr">jdbc :</span> <span class="string">off</span> </span><br><span class="line">   <span class="attr">jdbc.sqlonly :</span> <span class="string">off</span></span><br><span class="line">   <span class="attr">jdbc.sqltiming :</span> <span class="string">debug</span></span><br><span class="line">   <span class="attr">jdbc.audit :</span> <span class="string">off</span></span><br><span class="line">   <span class="attr">jdbc.resultset :</span> <span class="string">off</span></span><br><span class="line">   <span class="attr">jdbc.resultsettable :</span> <span class="string">debug</span></span><br><span class="line">   <span class="attr">jdbc.connection :</span> <span class="string">off</span></span><br></pre></td></tr></table></figure></li>
<li>output<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">19-11-30 토 02:39:38.725 DEBUG 12012 --- [nio-8080-exec-1] sqltiming                                :  com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)</span><br><span class="line">11. SELECT</span><br><span class="line"></span><br><span class="line">      actor_id, first_name, last_name, last_update</span><br><span class="line"></span><br><span class="line">      FROM actor</span><br><span class="line">      WHERE actor_id &#x3D; 1</span><br><span class="line">&#123;executed in 1 msec&#125;</span><br><span class="line">19-11-30 토 02:39:38.726 INFO  12012 --- [nio-8080-exec-1] resultsettable                           : </span><br><span class="line">|---------|-----------|----------|----------------------|</span><br><span class="line">|actor_id |first_name |last_name |last_update           |</span><br><span class="line">|---------|-----------|----------|----------------------|</span><br><span class="line">|1        |PENELOPE   |GUINESS   |2006-02-15 13:34:33.0 |</span><br><span class="line">|---------|-----------|----------|----------------------|</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h2 id="Error-Handling"><a href="#Error-Handling" class="headerlink" title="Error Handling"></a>Error Handling</h2><p>-<a href="https://www.baeldung.com/global-error-handler-in-a-spring-rest-api">https://www.baeldung.com/global-error-handler-in-a-spring-rest-api</a>_</p>
<h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><h2 id="Interceptor"><a href="#Interceptor" class="headerlink" title="Interceptor"></a>Interceptor</h2><h2 id="Response-공통처리"><a href="#Response-공통처리" class="headerlink" title="Response 공통처리"></a>Response 공통처리</h2><p>   ResponseBodyAdvice</p>
<h2 id="input-validation"><a href="#input-validation" class="headerlink" title="input validation"></a>input validation</h2><h2 id="testing"><a href="#testing" class="headerlink" title="testing"></a>testing</h2><ul>
<li><p>swagger<br>_<a href="https://github.com/springfox/springfox/issues/1499">https://github.com/springfox/springfox/issues/1499</a>_</p>
<p>ResponseBodyAdvice 적용된 controller 는 ui 에 나타나지 않음. </p>
<p>=&gt; 해결 package controller 만지정. _<a href="https://github.com/springfox/springfox/issues/1499">https://github.com/springfox/springfox/issues/1499</a>_</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span>(basePackages = <span class="string">"com.yourpacackge.requesthandler"</span>)</span><br></pre></td></tr></table></figure>




</li>
</ul>
<h2 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h2><p>   _<a href="https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html">https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html</a>_</p>
</div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">이전</a></div><div class="pagination-next"><a href="/page/2/">다음</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><a class="pagination-link" href="/page/4/">4</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="/img/avatar.png" alt="JJ"></figure><p class="title is-size-4 is-block line-height-inherit">JJ</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">35</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">15</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/" target="_blank" rel="noopener">팔로우</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/"><i class="fab fa-github"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/blog/"><span class="level-start"><span class="level-item">blog</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/cli/"><span class="level-start"><span class="level-item">cli</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/database/"><span class="level-start"><span class="level-item">database</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/deploy/"><span class="level-start"><span class="level-item">deploy</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/documentation/"><span class="level-start"><span class="level-item">documentation</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/ide/"><span class="level-start"><span class="level-item">ide</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/logging/"><span class="level-start"><span class="level-item">logging</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/os/"><span class="level-start"><span class="level-item">os</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/plant/"><span class="level-start"><span class="level-item">plant</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/pm/"><span class="level-start"><span class="level-item">pm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/stock/"><span class="level-start"><span class="level-item">stock</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/team/"><span class="level-start"><span class="level-item">team</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/troubleshooting/"><span class="level-start"><span class="level-item">troubleshooting</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/webdev/"><span class="level-start"><span class="level-item">webdev</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-26T07:57:22.923Z">2020-04-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/26/window/">window</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/os/">os</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-26T07:57:22.920Z">2020-04-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/26/vue/">vue</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-26T07:57:22.917Z">2020-04-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/26/vscode/">vs code</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/ide/">ide</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-26T07:57:22.914Z">2020-04-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/26/transactional/">transaction</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/database/">database</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-26T07:57:22.911Z">2020-04-26</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/26/template/">MarkDown Template</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/blog/">blog</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">아카이브</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">4월 2020</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/blog/"><span class="tag">blog</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/documentation/"><span class="tag">documentation</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/plant/"><span class="tag">plant</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="JJ&#039;s blog" height="28"></a><p class="size-small"><span>&copy; 2020 aichoora</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://aichoora.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Zurück nach oben" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(Untitled)","posts":"포스트","pages":"Pages","categories":"카테고리","tags":"태그"});
        });</script></body></html>